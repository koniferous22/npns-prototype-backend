/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/db.js":
/*!*******************!*\
  !*** ./src/db.js ***!
  \*******************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar url = 'mongodb://localhost/npns_db';\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  url: url\n});\n\n//# sourceURL=webpack:///./src/db.js?");

/***/ }),

/***/ "./src/external/nodemailer/index.js":
/*!******************************************!*\
  !*** ./src/external/nodemailer/index.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar templates = __webpack_require__(/*! ./templates */ \"./src/external/nodemailer/templates.js\");\n\nvar transporter = __webpack_require__(/*! ./transporter */ \"./src/external/nodemailer/transporter.js\");\n\nmodule.exports = {\n  templates: templates,\n  sendMail: function sendMail(recipient, template, params) {\n    var email = _objectSpread({\n      from: 'noreply@npns.biz',\n      to: recipient\n    }, template(_objectSpread({}, params, {\n      frontendAdress: process.env.FRONTEND_EMAIL_LINK\n    })));\n\n    return transporter.sendMail(email);\n  }\n};\n\n//# sourceURL=webpack:///./src/external/nodemailer/index.js?");

/***/ }),

/***/ "./src/external/nodemailer/templates.js":
/*!**********************************************!*\
  !*** ./src/external/nodemailer/templates.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var signupTemplate = function signupTemplate(_ref) {\n  var frontendAdress = _ref.frontendAdress,\n      token = _ref.token;\n  var fullAdress = frontendAdress + \"confirm/registration/\" + token;\n  return {\n    subject: 'NPNS Regoostration code',\n    text: 'Copy following address to confirm email:\\n' + fullAdress,\n    html: '<p>Click <a href=\"' + fullAdress + '\">here</a> to confirm your email</p>'\n  };\n};\n\nvar pwdResetTemplate = function pwdResetTemplate(_ref2) {\n  var frontendAdress = _ref2.frontendAdress,\n      token = _ref2.token;\n  var fullAdress = frontendAdress + \"confirm/passwordChange/\" + token;\n  return {\n    subject: 'NPNS Password Reset Link',\n    text: 'Copy following address to reset ur password:\\n' + fullAdress,\n    html: '<p>Click <a href=\"' + fullAdress + '\">here</a> to confirm your new password</p>'\n  };\n};\n\nvar emailChangeTemplate = function emailChangeTemplate(_ref3) {\n  var frontendAdress = _ref3.frontendAdress,\n      token = _ref3.token;\n  var fullAdress = frontendAdress + \"confirm/emailChange/\" + token;\n  return {\n    subject: 'NPNS Email Change Link',\n    text: 'Copy following address to confirm email:\\n' + fullAdress,\n    html: '<p>Click <a href=\"' + fullAdress + '\">here</a> to confirm your newly chosen email adventurer</p>'\n  };\n};\n\nvar usernameChangeTemplate = function usernameChangeTemplate(_ref4) {\n  var frontendAdress = _ref4.frontendAdress,\n      token = _ref4.token;\n  var fullAdress = frontendAdress + \"confirm/usernameChange/\" + token;\n  return {\n    subject: 'NPNS Username Change Link',\n    text: 'Copy following address to confirm your new username:\\n' + fullAdress,\n    html: '<p>Click <a href=\"' + fullAdress + '\">here</a> to confirm your new finely chosen username adventurer</p>'\n  };\n};\n\nmodule.exports = {\n  signupTemplate: signupTemplate,\n  pwdResetTemplate: pwdResetTemplate,\n  emailChangeTemplate: emailChangeTemplate,\n  usernameChangeTemplate: usernameChangeTemplate\n};\n\n//# sourceURL=webpack:///./src/external/nodemailer/templates.js?");

/***/ }),

/***/ "./src/external/nodemailer/transporter.js":
/*!************************************************!*\
  !*** ./src/external/nodemailer/transporter.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var nodemailer = __webpack_require__(/*! nodemailer */ \"nodemailer\");\n\nvar transporter =  false ? undefined : nodemailer.createTransport({\n  host: process.env.NODEMAILER_HOST,\n  port: process.env.NODEMAILER_PORT,\n  secure: false,\n  auth: {\n    user: process.env.NODEMAILER_USER,\n    pass: process.env.NODEMAILER_PASSWORD\n  }\n});\nmodule.exports = transporter;\n\n//# sourceURL=webpack:///./src/external/nodemailer/transporter.js?");

/***/ }),

/***/ "./src/graphql/index.js":
/*!******************************!*\
  !*** ./src/graphql/index.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n\\t\", \"\\n\\t\", \"\\n\\t\", \"\\n\\t\", \"\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nvar _require = __webpack_require__(/*! apollo-server-express */ \"apollo-server-express\"),\n    gql = _require.gql;\n\nvar _require2 = __webpack_require__(/*! ./queries */ \"./src/graphql/queries/index.js\"),\n    querySchema = _require2.querySchema,\n    Query = _require2.Query;\n\nvar _require3 = __webpack_require__(/*! ./mutations */ \"./src/graphql/mutations/index.js\"),\n    mutationSchema = _require3.mutationSchema,\n    Mutation = _require3.Mutation;\n\nvar _require4 = __webpack_require__(/*! ./types */ \"./src/graphql/types/index.js\"),\n    accessors = _require4.accessors,\n    types = _require4.types;\n\nvar scalars = __webpack_require__(/*! ./scalars */ \"./src/graphql/scalars/index.js\");\n\nvar typeDefs = gql(_templateObject(), scalars, types, querySchema, mutationSchema);\n\nvar resolvers = _objectSpread({}, accessors, {\n  Query: Query,\n  Mutation: Mutation\n});\n\nmodule.exports = {\n  typeDefs: typeDefs,\n  resolvers: resolvers\n};\n\n//# sourceURL=webpack:///./src/graphql/index.js?");

/***/ }),

/***/ "./src/graphql/mutations/boostChallenge.js":
/*!*************************************************!*\
  !*** ./src/graphql/mutations/boostChallenge.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(n); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar _require = __webpack_require__(/*! ../types/Challenge */ \"./src/graphql/types/Challenge/index.js\"),\n    Challenge = _require.Challenge;\n\nvar _require2 = __webpack_require__(/*! ../../utils/authentication */ \"./src/utils/authentication.js\"),\n    authentication = _require2.authentication;\n\nvar boostChallengeInput = \"\\n\\tinput BoostChallengeInput {\\n\\t\\ttoken: String!\\n\\t\\tchallengeId: ID!\\n\\t\\tboostedValue: Int!\\n\\t}\\n\";\nvar boostChallengePayload = \"\\n\\ttype BoostChallengePayload {\\n\\t\\tboostedChallenge: Challenge\\n\\t}\\n\"; // TODO rewrite with async await\n\nvar boostChallenge = function boostChallenge(_, _ref) {\n  var boostChallengeInput = _ref.boostChallengeInput;\n  return Promise.all([authentication(boostChallengeInput.token), Challenge.findOne({\n    _id: boostChallengeInput.challengeId\n  })]).then(function (_ref2) {\n    var _ref3 = _slicedToArray(_ref2, 2),\n        user = _ref3[0],\n        challenge = _ref3[1];\n\n    if (challenge.accepted_submission != null) {\n      throw new Error({\n        message: 'Cannot boost solved challenge'\n      });\n    }\n\n    if (boostChallengeInput.boostedValue <= 0) {\n      throw new Error({\n        message: 'Boost value has to be positive'\n      });\n    }\n\n    challenge.boost(user._id, boostChallengeInput.boostedValue);\n    return challenge.save();\n  });\n};\n\nmodule.exports = {\n  boostChallengeInput: boostChallengeInput,\n  boostChallengePayload: boostChallengePayload,\n  boostChallenge: boostChallenge\n};\n\n//# sourceURL=webpack:///./src/graphql/mutations/boostChallenge.js?");

/***/ }),

/***/ "./src/graphql/mutations/confirmPassword.js":
/*!**************************************************!*\
  !*** ./src/graphql/mutations/confirmPassword.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var _require = __webpack_require__(/*! ../../utils/authentication */ \"./src/utils/authentication.js\"),\n    authentication = _require.authentication;\n\nvar confirmPasswordInput = \"\\n\\tinput ConfirmPasswordInput {\\n\\t\\ttoken: String!\\n\\t\\tpassword: String!\\n\\t}\\n\";\n\nvar confirmPassword = function confirmPassword(_, _ref) {\n  var confirmPasswordInput = _ref.confirmPasswordInput;\n  return authentication(confirmPasswordInput.token).then(function (user) {\n    return user.validPassword(confirmPasswordInput.password);\n  }).then(function () {\n    return {\n      message: 'Password valid'\n    };\n  });\n};\n\nmodule.exports = {\n  confirmPasswordInput: confirmPasswordInput,\n  confirmPassword: confirmPassword\n};\n\n//# sourceURL=webpack:///./src/graphql/mutations/confirmPassword.js?");

/***/ }),

/***/ "./src/graphql/mutations/confirmPasswordReset.js":
/*!*******************************************************!*\
  !*** ./src/graphql/mutations/confirmPasswordReset.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar _require = __webpack_require__(/*! ../types/User/AuthToken */ \"./src/graphql/types/User/AuthToken.js\"),\n    AuthToken = _require.AuthToken;\n\nvar VerificationToken = __webpack_require__(/*! ../types/User/VerificationToken */ \"./src/graphql/types/User/VerificationToken.js\");\n\nvar confirmPasswordResetInput = \"\\n\\tinput ConfirmPasswordResetInput {\\n\\t\\temailToken: String!,\\n\\t\\tnewPassword: String!\\n\\t}\\n\";\n\nvar confirmPasswordReset = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_, _ref) {\n    var confirmPasswordResetInput, emailToken, newPassword, passwordResetToken, user;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            confirmPasswordResetInput = _ref.confirmPasswordResetInput;\n            emailToken = confirmPasswordResetInput.emailToken, newPassword = confirmPasswordResetInput.newPassword;\n            _context.next = 4;\n            return VerificationToken.findOne({\n              token: emailToken\n            }).populate('user');\n\n          case 4:\n            passwordResetToken = _context.sent;\n            user = passwordResetToken.user;\n            user.password = newPassword;\n            _context.next = 9;\n            return user.save();\n\n          case 9:\n            return _context.abrupt(\"return\", Promise.all([VerificationToken.deleteMany({\n              user: user._id\n            }), AuthToken.deleteAllBy(user)]).then(function () {\n              return {\n                message: 'Password changed, continue to login'\n              };\n            }));\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function confirmPasswordReset(_x, _x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nmodule.exports = {\n  confirmPasswordResetInput: confirmPasswordResetInput,\n  confirmPasswordReset: confirmPasswordReset\n};\n\n//# sourceURL=webpack:///./src/graphql/mutations/confirmPasswordReset.js?");

/***/ }),

/***/ "./src/graphql/mutations/createQueue.js":
/*!**********************************************!*\
  !*** ./src/graphql/mutations/createQueue.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var _require = __webpack_require__(/*! ../types/Queue */ \"./src/graphql/types/Queue.js\"),\n    Queue = _require.Queue;\n\nvar createQueueInput = \"\\n\\tinput CreateQueueInput {\\n\\t\\tparentQueueName: String!\\n\\t\\tqueueName: String!\\n\\t}\\n\";\nvar createQueuePayload = \"\\n\\ttype CreateQueuePayload {\\n\\t\\tnewQueue: Queue\\n\\t}\\n\";\n\nvar createQueue = function createQueue(_, _ref) {\n  var createQueueInput = _ref.createQueueInput;\n  return Queue.createQueue(createQueueInput.queueName, createQueueInput.parentQueueName);\n};\n\nmodule.exports = {\n  createQueueInput: createQueueInput,\n  createQueuePayload: createQueuePayload,\n  createQueue: createQueue\n};\n\n//# sourceURL=webpack:///./src/graphql/mutations/createQueue.js?");

/***/ }),

/***/ "./src/graphql/mutations/index.js":
/*!****************************************!*\
  !*** ./src/graphql/mutations/index.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var _require = __webpack_require__(/*! ./input */ \"./src/graphql/mutations/input/index.js\"),\n    paging = _require.paging,\n    tokenInput = _require.tokenInput;\n\nvar _require2 = __webpack_require__(/*! ./payload */ \"./src/graphql/mutations/payload/index.js\"),\n    messagePayload = _require2.messagePayload;\n\nvar _require3 = __webpack_require__(/*! ./boostChallenge */ \"./src/graphql/mutations/boostChallenge.js\"),\n    boostChallengeInput = _require3.boostChallengeInput,\n    boostChallengePayload = _require3.boostChallengePayload,\n    boostChallenge = _require3.boostChallenge;\n\nvar _require4 = __webpack_require__(/*! ./confirmPassword */ \"./src/graphql/mutations/confirmPassword.js\"),\n    confirmPasswordInput = _require4.confirmPasswordInput,\n    confirmPassword = _require4.confirmPassword;\n\nvar _require5 = __webpack_require__(/*! ./confirmPasswordReset */ \"./src/graphql/mutations/confirmPasswordReset.js\"),\n    confirmPasswordResetInput = _require5.confirmPasswordResetInput,\n    confirmPasswordReset = _require5.confirmPasswordReset;\n\nvar _require6 = __webpack_require__(/*! ./createQueue */ \"./src/graphql/mutations/createQueue.js\"),\n    createQueueInput = _require6.createQueueInput,\n    createQueuePayload = _require6.createQueuePayload,\n    createQueue = _require6.createQueue;\n/*const {\n\teditContentInput,\n\teditContentPayload,\n\teditContent\n} = require('./editContent')*/\n\n\nvar _require7 = __webpack_require__(/*! ./keepAlive */ \"./src/graphql/mutations/keepAlive.js\"),\n    keepAlivePayload = _require7.keepAlivePayload,\n    keepAlive = _require7.keepAlive;\n\nvar _require8 = __webpack_require__(/*! ./logoutUser */ \"./src/graphql/mutations/logoutUser.js\"),\n    logoutUser = _require8.logoutUser;\n\nvar _require9 = __webpack_require__(/*! ./logoutUserAllDevices */ \"./src/graphql/mutations/logoutUserAllDevices.js\"),\n    logoutUserAllDevices = _require9.logoutUserAllDevices;\n\nvar _require10 = __webpack_require__(/*! ./markChallengeSolved */ \"./src/graphql/mutations/markChallengeSolved.js\"),\n    markChallengeSolvedInput = _require10.markChallengeSolvedInput,\n    markChallengeSolvedPayload = _require10.markChallengeSolvedPayload,\n    markChallengeSolved = _require10.markChallengeSolved;\n\nvar _require11 = __webpack_require__(/*! ./postChallenge */ \"./src/graphql/mutations/postChallenge.js\"),\n    postChallengeInput = _require11.postChallengeInput,\n    postChallengePayload = _require11.postChallengePayload,\n    postChallenge = _require11.postChallenge;\n\nvar _require12 = __webpack_require__(/*! ./postReply */ \"./src/graphql/mutations/postReply.js\"),\n    postReplyInput = _require12.postReplyInput,\n    postReplyPayload = _require12.postReplyPayload,\n    postReply = _require12.postReply;\n\nvar _require13 = __webpack_require__(/*! ./postSubmission */ \"./src/graphql/mutations/postSubmission.js\"),\n    postSubmissionInput = _require13.postSubmissionInput,\n    postSubmissionPayload = _require13.postSubmissionPayload,\n    postSubmission = _require13.postSubmission;\n\nvar _require14 = __webpack_require__(/*! ./resendSignUpRequest */ \"./src/graphql/mutations/resendSignUpRequest.js\"),\n    resendSignUpRequestInput = _require14.resendSignUpRequestInput,\n    reseneSignUpRequest = _require14.reseneSignUpRequest;\n\nvar _require15 = __webpack_require__(/*! ./requestProfileChange */ \"./src/graphql/mutations/requestProfileChange.js\"),\n    requestProfileChangeInput = _require15.requestProfileChangeInput,\n    requestProfileChange = _require15.requestProfileChange;\n\nvar _require16 = __webpack_require__(/*! ./signUserIn */ \"./src/graphql/mutations/signUserIn.js\"),\n    signUserInInput = _require16.signUserInInput,\n    signUserInPayload = _require16.signUserInPayload,\n    signUserIn = _require16.signUserIn;\n\nvar _require17 = __webpack_require__(/*! ./signUserUp */ \"./src/graphql/mutations/signUserUp.js\"),\n    signUserUpInput = _require17.signUserUpInput,\n    signUserUpPayload = _require17.signUserUpPayload,\n    signUserUp = _require17.signUserUp;\n\nvar _require18 = __webpack_require__(/*! ./verifyOperationToken */ \"./src/graphql/mutations/verifyOperationToken.js\"),\n    verifyOperationTokenInput = _require18.verifyOperationTokenInput,\n    verifyOperationToken = _require18.verifyOperationToken; //${editContentInput}\n\n\nvar mutationInputs = \"\\n\\t\".concat(tokenInput, \"\\n\\t\").concat(paging, \"\\n\\t\").concat(boostChallengeInput, \"\\n\\t\").concat(createQueueInput, \"\\n\\t\").concat(confirmPasswordInput, \"\\n\\t\").concat(confirmPasswordResetInput, \"\\n\\t\").concat(markChallengeSolvedInput, \"\\n\\t\").concat(postChallengeInput, \"\\n\\t\").concat(postReplyInput, \"\\n\\t\").concat(postSubmissionInput, \"\\n\\t\").concat(resendSignUpRequestInput, \"\\n\\t\").concat(requestProfileChangeInput, \"\\n\\t\").concat(signUserInInput, \"\\n\\t\").concat(signUserUpInput, \"\\n\\t\").concat(verifyOperationTokenInput, \"\\n\"); //${editContentPayload}\n\nvar mutationPayloads = \"\\n\\t\".concat(messagePayload, \"\\n\\t\").concat(boostChallengePayload, \"\\n\\t\").concat(createQueuePayload, \"\\n\\t\").concat(keepAlivePayload, \"\\n\\t\").concat(markChallengeSolvedPayload, \"\\n\\t\").concat(postChallengePayload, \"\\n\\t\").concat(postReplyPayload, \"\\n\\t\").concat(postSubmissionPayload, \"\\n\\t\").concat(signUserInPayload, \"\\n\\t\").concat(signUserUpPayload, \"\\n\");\nvar mutationSchema = \"\\n\\t\".concat(mutationInputs, \"\\n\\t\").concat(mutationPayloads, \"\\n\\ttype Mutation {\\n\\t\\tboostChallenge(boostChallengeInput: BoostChallengeInput!): BoostChallengePayload\\n\\t\\tconfirmPassword(confirmPasswordInput: ConfirmPasswordInput!): MessagePayload\\n\\t\\tconfirmPasswordReset(confirmPasswordResetInput: ConfirmPasswordResetInput!): MessagePayload\\n\\t\\tcreateQueue(createQueueInput: CreateQueueInput!): CreateQueuePayload\\n\\t\\t# editContent(editContentInput: EditContentInput!): EditContentPayload\\n\\t\\tkeepAlive(keepAliveInput: TokenInput!): KeepAlivePayload\\n\\t\\tlogoutUser(logoutInput: TokenInput!): MessagePayload\\n\\t\\tlogoutUserAllDevices(logoutInput: TokenInput!): MessagePayload\\n\\t\\tmarkChallengeSolved(markChallengeSolvedInput: MarkChallengeSolvedInput!): MarkChallengeSolvedPayload\\n\\t\\tpostChallenge(postChallengeInput: PostChallengeInput!): PostChallengePayload\\n\\t\\tpostSubmission(postSubmissionInput: PostSubmissionInput!): PostSubmissionPayload\\n\\t\\tpostReply(postReplyInput: PostReplyInput!): PostReplyPayload\\n\\t\\tresendSignUpRequest(resendSignUpRequestInput: ResendSignUpRequestInput!): MessagePayload\\n\\t\\trequestProfileChange(requestProfileChangeInput: RequestProfileChangeInput!): MessagePayload\\n\\t\\tsignUserUp(signUserUpInput: SignUserUpInput!): SignUserUpPayload\\n\\t\\tsignUserIn(signUserInInput: SignUserInInput!): SignUserInPayload\\n\\t\\tverifyOperationToken(verifyOperationTokenInput: VerifyOperationTokenInput!): MessagePayload\\n\\t}\\n\\n\");\nvar Mutation = {\n  boostChallenge: boostChallenge,\n  confirmPassword: confirmPassword,\n  logoutUser: logoutUser,\n  logoutUserAllDevices: logoutUserAllDevices,\n  markChallengeSolved: markChallengeSolved,\n  postChallenge: postChallenge,\n  postReply: postReply,\n  postSubmission: postSubmission,\n  signUserIn: signUserIn,\n  signUserUp: signUserUp\n};\nmodule.exports = {\n  Mutation: Mutation,\n  mutationSchema: mutationSchema\n};\n\n//# sourceURL=webpack:///./src/graphql/mutations/index.js?");

/***/ }),

/***/ "./src/graphql/mutations/input/index.js":
/*!**********************************************!*\
  !*** ./src/graphql/mutations/input/index.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var tokenInput = \"\\n\\tinput TokenInput {\\n\\t\\ttoken: String!\\n\\t}\\n\";\nvar paging = \"\\n\\tinput Paging {\\n\\t\\tpage: Int!\\n\\t\\tpageSize: Int!\\n\\t}\\n\";\nmodule.exports = {\n  tokenInput: tokenInput,\n  paging: paging\n};\n\n//# sourceURL=webpack:///./src/graphql/mutations/input/index.js?");

/***/ }),

/***/ "./src/graphql/mutations/keepAlive.js":
/*!********************************************!*\
  !*** ./src/graphql/mutations/keepAlive.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar _require = __webpack_require__(/*! ../../utils/authentication */ \"./src/utils/authentication.js\"),\n    authentication = _require.authentication;\n\nvar keepAlivePayload = \"\\n\\ttype KeepAlivePayload {\\n\\t\\ttoken: String!\\n\\t\\tuser: User!\\n\\t}\\n\";\n\nvar keepAlive = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_, _ref) {\n    var keepAliveInput;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            keepAliveInput = _ref.keepAliveInput;\n            return _context.abrupt(\"return\", authentication(keepAliveInput.token).then(function (user) {\n              return {\n                token: token,\n                user: user\n              };\n            }));\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function keepAlive(_x, _x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nmodule.exports = {\n  keepAlivePayload: keepAlivePayload,\n  keepAlive: keepAlive\n};\n\n//# sourceURL=webpack:///./src/graphql/mutations/keepAlive.js?");

/***/ }),

/***/ "./src/graphql/mutations/logoutUser.js":
/*!*********************************************!*\
  !*** ./src/graphql/mutations/logoutUser.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var _require = __webpack_require__(/*! ../types/User/AuthToken */ \"./src/graphql/types/User/AuthToken.js\"),\n    AuthToken = _require.AuthToken;\n\nvar _require2 = __webpack_require__(/*! ../../utils/authentication */ \"./src/utils/authentication.js\"),\n    authentication = _require2.authentication;\n\nvar logoutUser = function logoutUser(_, _ref) {\n  var logoutInput = _ref.logoutInput;\n  return authentication(logoutInput.token).then(function () {\n    return AuthToken.deleteToken(logoutInput.token);\n  }).then(function () {\n    return {\n      message: 'Logged out!'\n    };\n  });\n};\n\nmodule.exports = {\n  logoutUser: logoutUser\n};\n\n//# sourceURL=webpack:///./src/graphql/mutations/logoutUser.js?");

/***/ }),

/***/ "./src/graphql/mutations/logoutUserAllDevices.js":
/*!*******************************************************!*\
  !*** ./src/graphql/mutations/logoutUserAllDevices.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var _require = __webpack_require__(/*! ../types/User/AuthToken */ \"./src/graphql/types/User/AuthToken.js\"),\n    AuthToken = _require.AuthToken;\n\nvar _require2 = __webpack_require__(/*! ../../utils/authentication */ \"./src/utils/authentication.js\"),\n    authentication = _require2.authentication;\n\nvar logoutUserAllDevices = function logoutUserAllDevices(_, _ref) {\n  var logoutInput = _ref.logoutInput;\n  return authentication(logoutInput.token).then(function (user) {\n    return AuthToken.deleteAllBY(user);\n  }).then(function () {\n    return {\n      message: 'Logged out!'\n    };\n  });\n};\n\nmodule.exports = {\n  logoutUserAllDevices: logoutUserAllDevices\n};\n\n//# sourceURL=webpack:///./src/graphql/mutations/logoutUserAllDevices.js?");

/***/ }),

/***/ "./src/graphql/mutations/markChallengeSolved.js":
/*!******************************************************!*\
  !*** ./src/graphql/mutations/markChallengeSolved.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(n); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar _require = __webpack_require__(/*! ../types/Challenge */ \"./src/graphql/types/Challenge/index.js\"),\n    Challenge = _require.Challenge;\n\nvar _require2 = __webpack_require__(/*! ../types/Challenge/Submission */ \"./src/graphql/types/Challenge/Submission.js\"),\n    Submission = _require2.Submission;\n\nvar _require3 = __webpack_require__(/*! ../../utils/authentication */ \"./src/utils/authentication.js\"),\n    authentication = _require3.authentication;\n\nvar markChallengeSolvedInput = \"\\n\\tinput MarkChallengeSolvedInput {\\n\\t\\ttoken: String!\\n\\t\\tchallengeId: ID!\\n\\t\\tsubmissionId: ID!\\n\\t}\\n\";\nvar markChallengeSolvedPayload = \"\\n\\ttype MarkChallengeSolvedPayload {\\n\\t\\ttransaction: Transaction!\\n\\t}\\n\";\n\nvar markChallengeSolved = function markChallengeSolved(_, _ref) {\n  var markChallengeSolvedInput = _ref.markChallengeSolvedInput;\n  return Promise.all([authentication(markChallengeSolvedInput.token), Challenge.findOne({\n    _id: markChallengeSolvedInput.challengeId\n  }).populate('submitted_by').populate('queue'), Submission.findOne({\n    _id: markChallengeSolvedInput.submissionId\n  }).populate('submitted_by')]).then(function (_ref2) {\n    var _ref3 = _slicedToArray(_ref2, 3),\n        user = _ref3[0],\n        challenge = _ref3[1],\n        submission = _ref3[2];\n\n    // in case of challenges try mongoose equals method, prior to this shit had challenges with strings\n    // also migrate this if into models\n    if (user._id !== challenge.submitted_by._id) {\n      throw new Error('Fuck off not your challenge biaach');\n    }\n\n    challenge.acceptSubmission(submission._id); // TODO for challenge poster, add update boost transaction metadata\n\n    var karmaValue = 1; // TODO populate submission poster\n\n    var winner = submission.submitted_by;\n    winner.addTransaction('KOKOT', {\n      from: 'NPNS_team.biz'\n    }, challenge.bounty || 0, karmaValue, {\n      relatedQueue: challenge.queue\n    });\n    winner.addBalance(challenge.queue, challenge.bounty, karmaValue);\n    return Promise.all([transaction.save(), winner.save(), challenge.save()]).then(function () {\n      return transaction;\n    });\n  });\n};\n\nmodule.exports = {\n  markChallengeSolvedInput: markChallengeSolvedInput,\n  markChallengeSolvedPayload: markChallengeSolvedPayload,\n  markChallengeSolved: markChallengeSolved\n};\n\n//# sourceURL=webpack:///./src/graphql/mutations/markChallengeSolved.js?");

/***/ }),

/***/ "./src/graphql/mutations/payload/index.js":
/*!************************************************!*\
  !*** ./src/graphql/mutations/payload/index.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var messagePayload = \"\\n\\ttype MessagePayload {\\n\\t\\tmessage: String!\\n\\t}\\n\";\nmodule.exports = {\n  messagePayload: messagePayload\n};\n\n//# sourceURL=webpack:///./src/graphql/mutations/payload/index.js?");

/***/ }),

/***/ "./src/graphql/mutations/postChallenge.js":
/*!************************************************!*\
  !*** ./src/graphql/mutations/postChallenge.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(n); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar _require = __webpack_require__(/*! ../types/Queue */ \"./src/graphql/types/Queue.js\"),\n    Queue = _require.Queue;\n\nvar _require2 = __webpack_require__(/*! ../types/Challenge */ \"./src/graphql/types/Challenge/index.js\"),\n    Challenge = _require2.Challenge;\n\nvar _require3 = __webpack_require__(/*! ../../utils/authentication */ \"./src/utils/authentication.js\"),\n    authentication = _require3.authentication;\n\nvar postChallengeInput = \"\\n\\tinput PostChallengeInput {\\n\\t\\ttoken: String!\\n\\t\\tqueueName: String!\\n\\t\\ttitle: String!\\n\\t\\tdescription: String!\\n\\t}\\n\";\nvar postChallengePayload = \"\\n\\ttype PostChallengePayload {\\n\\t\\tchallenge: Challenge!\\n\\t}\\n\";\n\nvar postChallenge = function postChallenge(_, _ref) {\n  var postChallengeInput = _ref.postChallengeInput;\n  return Promise.all([authentication(postChallengeInput.token), Queue.findByName(postChallengeInput.queueName)]).then(function (_ref2) {\n    var _ref3 = _slicedToArray(_ref2, 2),\n        user = _ref3[0],\n        queue = _ref3[1];\n\n    var challenge = new Challenge({\n      title: postChallengeInput.title,\n      content: postChallengeInput.description,\n      submitted_by: user._id,\n      queue: queue._id\n    });\n    return challenge.save().then(function () {\n      return {\n        challenge: challenge\n      };\n    });\n  });\n};\n\nmodule.exports = {\n  postChallengeInput: postChallengeInput,\n  postChallengePayload: postChallengePayload,\n  postChallenge: postChallenge\n};\n\n//# sourceURL=webpack:///./src/graphql/mutations/postChallenge.js?");

/***/ }),

/***/ "./src/graphql/mutations/postReply.js":
/*!********************************************!*\
  !*** ./src/graphql/mutations/postReply.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(n); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar Submission = __webpack_require__(/*! ../types/Challenge/Submission */ \"./src/graphql/types/Challenge/Submission.js\");\n\nvar Reply = __webpack_require__(/*! ../types/Challenge/Reply */ \"./src/graphql/types/Challenge/Reply.js\");\n\nvar _require = __webpack_require__(/*! ../../utils/authentication */ \"./src/utils/authentication.js\"),\n    authentication = _require.authentication;\n\nvar postReplyInput = \"\\n\\tinput PostReplyInput {\\n\\t\\ttoken: String!\\n\\t\\trelatedSubmission: ID!\\n\\t\\tcontent: String!\\n\\t}\\n\";\nvar postReplyPayload = \"\\n\\ttype PostReplyPayload {\\n\\t\\treply: Reply!\\n\\t}\\n\";\n\nvar postReply = function postReply(_, _ref) {\n  var postReplyInput = _ref.postReplyInput;\n  return Promise.all([authentication(postReplyInput.token), Submission.findOne({\n    _id: postReplyInput.relatedSubmission\n  })]).then(function (_ref2) {\n    var _ref3 = _slicedToArray(_ref2, 2),\n        user = _ref3[0],\n        submission = _ref3[1];\n\n    var reply = new Reply({\n      content: postReplyInput.content,\n      submitted_by: user._id,\n      submission: submission._id\n    });\n    return Promise.all([reply.save(), Submission.updateOne({\n      _id: challenge._id\n    }, {\n      $push: {\n        replies: {\n          reply: reply._id\n        }\n      }\n    })]).then(function () {\n      return {\n        reply: reply\n      };\n    });\n  });\n};\n\nmodule.exports = {\n  postReplyInput: postReplyInput,\n  postReplyPayload: postReplyPayload,\n  postReply: postReply\n};\n\n//# sourceURL=webpack:///./src/graphql/mutations/postReply.js?");

/***/ }),

/***/ "./src/graphql/mutations/postSubmission.js":
/*!*************************************************!*\
  !*** ./src/graphql/mutations/postSubmission.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(n); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar _require = __webpack_require__(/*! ../../utils/authentication */ \"./src/utils/authentication.js\"),\n    authentication = _require.authentication;\n\nvar _require2 = __webpack_require__(/*! ../types/Challenge */ \"./src/graphql/types/Challenge/index.js\"),\n    Challenge = _require2.Challenge;\n\nvar _require3 = __webpack_require__(/*! ../types/Challenge/Submission */ \"./src/graphql/types/Challenge/Submission.js\"),\n    Submission = _require3.Submission;\n\nvar postSubmissionInput = \"\\n\\tinput PostSubmissionInput {\\n\\t\\ttoken: String!\\n\\t\\trelatedChallenge: ID!\\n\\t\\tcontent: String!\\n\\t}\\n\";\nvar postSubmissionPayload = \"\\n\\ttype PostSubmissionPayload {\\n\\t\\tsubmission: Submission!\\n\\t}\\n\";\n\nvar postSubmission = function postSubmission(_, _ref) {\n  var postSubmissionInput = _ref.postSubmissionInput;\n  return Promise.all([authentication(postSubmissionInput.token), Challenge.findOne({\n    _id: postSubmissionInput.relatedChallenge\n  })]).then(function (_ref2) {\n    var _ref3 = _slicedToArray(_ref2, 2),\n        user = _ref3[0],\n        challenge = _ref3[1];\n\n    var submission = new Submission({\n      content: postSubmissionInput.content,\n      submitted_by: user._id,\n      challenge: challenge._id\n    });\n    return Promise.all([submission.save(), Challenge.updateOne({\n      _id: challenge._id\n    }, {\n      $push: {\n        submissions: {\n          submission: submission._id\n        }\n      }\n    })]).then(function () {\n      return {\n        submission: submission\n      };\n    });\n  });\n};\n\nmodule.exports = {\n  postSubmissionInput: postSubmissionInput,\n  postSubmissionPayload: postSubmissionPayload,\n  postSubmission: postSubmission\n};\n\n//# sourceURL=webpack:///./src/graphql/mutations/postSubmission.js?");

/***/ }),

/***/ "./src/graphql/mutations/requestProfileChange.js":
/*!*******************************************************!*\
  !*** ./src/graphql/mutations/requestProfileChange.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar _require = __webpack_require__(/*! ../types/User */ \"./src/graphql/types/User/index.js\"),\n    User = _require.User;\n\nvar _require2 = __webpack_require__(/*! ../types/User/VerificationToken */ \"./src/graphql/types/User/VerificationToken.js\"),\n    VerificationToken = _require2.VerificationToken;\n\nvar nodemailer = __webpack_require__(/*! ../../external/nodemailer */ \"./src/external/nodemailer/index.js\");\n\nvar _require3 = __webpack_require__(/*! ../../utils/authentication */ \"./src/utils/authentication.js\"),\n    authentication = _require3.authentication; // TODO reimplement payload as oneof\n\n\nvar requestProfileChangeInput = \"\\n\\tinput RequestProfileChangeInput {\\n\\t\\toperationType: String!,\\n\\t\\ttoken: String,\\n\\t\\tidentifier: String,\\n\\t\\tnewEmail: String,\\n\\t\\tnewUsername: String,\\n\\t\\tnewFirstName: String,\\n\\t\\tnewLastName: String\\n\\t}\\n\";\nvar profileOperations = {\n  emailChange: {\n    auth: true,\n    createToken: function createToken(user, _ref) {\n      var newEmail = _ref.newEmail;\n      return new VerificationToken({\n        user: user,\n        newEmail: newEmail\n      });\n    },\n    mailTemplate: nodemailer.templates.emailChange\n  },\n  usernameChange: {\n    auth: true,\n    createToken: function createToken(user, _ref2) {\n      var newUsername = _ref2.newUsername;\n      return new VerificationToken({\n        user: user,\n        newUsername: newUsername\n      });\n    },\n    mailTemplate: nodemailer.templates.usernameChange\n  },\n  passwordReset: {\n    auth: false,\n    createToken: function createToken(user, _) {\n      return new VerificationToken({\n        user: user\n      });\n    }\n  },\n  namesChange: {\n    auth: true,\n    resolve: function () {\n      var _resolve = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(user, _ref3) {\n        var newFirstName, newLastName;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                newFirstName = _ref3.newFirstName, newLastName = _ref3.newLastName;\n                user.firstName = newFirstName || user.firstName;\n                user.lastName = newLastName || user.lastName;\n                return _context.abrupt(\"return\", user.save());\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function resolve(_x, _x2) {\n        return _resolve.apply(this, arguments);\n      }\n\n      return resolve;\n    }()\n  }\n};\n\nvar requestProfileChange = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(_, _ref4) {\n    var requestProfileChangeInput, operationType, token, identifier, payload, profileOperation, auth, createToken, mailTemplate, resolve, userRecord, user, operationToken;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            requestProfileChangeInput = _ref4.requestProfileChangeInput;\n            operationType = requestProfileChangeInput.operationType, token = requestProfileChangeInput.token, identifier = requestProfileChangeInput.identifier, payload = _objectWithoutProperties(requestProfileChangeInput, [\"operationType\", \"token\", \"identifier\"]);\n            profileOperation = profileOperations[operationType];\n\n            if (profileOperation) {\n              _context2.next = 5;\n              break;\n            }\n\n            throw new Error('Invalid profile operation');\n\n          case 5:\n            auth = profileOperation.auth, createToken = profileOperation.createToken, mailTemplate = profileOperation.mailTemplate, resolve = profileOperation.resolve;\n            _context2.next = 8;\n            return auth ? authentication(token) : User.findByIdentifier(identifier);\n\n          case 8:\n            userRecord = _context2.sent;\n            user = userRecord._id;\n\n            if (!resolve) {\n              _context2.next = 13;\n              break;\n            }\n\n            _context2.next = 13;\n            return resolve(payload);\n\n          case 13:\n            if (!createToken) {\n              _context2.next = 17;\n              break;\n            }\n\n            operationToken = createToken(user, payload);\n            _context2.next = 17;\n            return operationToken.save();\n\n          case 17:\n            if (!mailTemplate) {\n              _context2.next = 20;\n              break;\n            }\n\n            _context2.next = 20;\n            return nodemailer.sendMail(mailTemplate, payload);\n\n          case 20:\n            return _context2.abrupt(\"return\", {\n              message: 'Profile updated'\n            });\n\n          case 21:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function requestProfileChange(_x3, _x4) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\nmodule.exports = {\n  requestProfileChangeInput: requestProfileChangeInput,\n  requestProfileChange: requestProfileChange\n};\n\n//# sourceURL=webpack:///./src/graphql/mutations/requestProfileChange.js?");

/***/ }),

/***/ "./src/graphql/mutations/resendSignUpRequest.js":
/*!******************************************************!*\
  !*** ./src/graphql/mutations/resendSignUpRequest.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar _require = __webpack_require__(/*! ../types/User */ \"./src/graphql/types/User/index.js\"),\n    User = _require.User;\n\nvar _require2 = __webpack_require__(/*! ../types/User/VerificationToken */ \"./src/graphql/types/User/VerificationToken.js\"),\n    VerificationToken = _require2.VerificationToken;\n\nvar nodemailer = __webpack_require__(/*! ../../external/nodemailer */ \"./src/external/nodemailer/index.js\");\n\nvar resendSignUpRequestInput = \"\\n\\tinput ResendSignUpRequestInput {\\n\\t\\tusername: String!\\n\\t}\\n\";\n\nvar resendSignUpRequest = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_, _ref) {\n    var resendSignUpRequestInput, username, user, token;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            resendSignUpRequestInput = _ref.resendSignUpRequestInput;\n            username = resendSignUpRequestInput.username;\n            _context.next = 4;\n            return User.findByIdentifier(username);\n\n          case 4:\n            user = _context.sent;\n\n            if (!user.verified) {\n              _context.next = 7;\n              break;\n            }\n\n            throw new Error('User is verified');\n\n          case 7:\n            _context.next = 9;\n            return VerificationToken.deleteMany({\n              user: user._id\n            });\n\n          case 9:\n            token = new VerificationToken({\n              user: user._id\n            });\n            return _context.abrupt(\"return\", Promise.all([token.save(), nodemailer.sendEmail(nodemailer.tempaltes.signupTemplate, {\n              token: token\n            })]).then(function () {\n              return {\n                message: 'Request resent, check email'\n              };\n            }));\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function resendSignUpRequest(_x, _x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nmodule.exports = {\n  resendSignUpRequestInput: resendSignUpRequestInput,\n  resendSignUpRequest: resendSignUpRequest\n};\n\n//# sourceURL=webpack:///./src/graphql/mutations/resendSignUpRequest.js?");

/***/ }),

/***/ "./src/graphql/mutations/signUserIn.js":
/*!*********************************************!*\
  !*** ./src/graphql/mutations/signUserIn.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar _require = __webpack_require__(/*! ../types/User */ \"./src/graphql/types/User/index.js\"),\n    User = _require.User;\n\nvar _require2 = __webpack_require__(/*! ../types/User/AuthToken */ \"./src/graphql/types/User/AuthToken.js\"),\n    AuthToken = _require2.AuthToken;\n\nvar signUserInInput = \"\\n\\tinput SignUserInInput {\\n\\t\\tidentifier: String!\\n\\t\\tpassword: String!\\n\\t}\\n\";\nvar signUserInPayload = \"\\n\\ttype SignUserInPayload {\\n\\t\\tuser: User!\\n\\t\\ttoken: String!\\n\\t}\\n\";\n\nvar signUserIn = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_, _ref) {\n    var signUserInInput, identifier, password, user, _yield$AuthToken$gene, token;\n\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            signUserInInput = _ref.signUserInInput;\n            identifier = signUserInInput.identifier, password = signUserInInput.password;\n            _context.next = 4;\n            return User.findByIdentifier(identifier, password);\n\n          case 4:\n            user = _context.sent;\n\n            if (user) {\n              _context.next = 7;\n              break;\n            }\n\n            throw new Error('Login failed! Check authentication credentials');\n\n          case 7:\n            if (user.verified) {\n              _context.next = 9;\n              break;\n            }\n\n            throw new Error('not verified, check your email');\n\n          case 9:\n            _context.next = 11;\n            return AuthToken.generate(user);\n\n          case 11:\n            _yield$AuthToken$gene = _context.sent;\n            token = _yield$AuthToken$gene.token;\n            return _context.abrupt(\"return\", {\n              user: user,\n              token: token\n            });\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function signUserIn(_x, _x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nmodule.exports = {\n  signUserInInput: signUserInInput,\n  signUserInPayload: signUserInPayload,\n  signUserIn: signUserIn\n};\n\n//# sourceURL=webpack:///./src/graphql/mutations/signUserIn.js?");

/***/ }),

/***/ "./src/graphql/mutations/signUserUp.js":
/*!*********************************************!*\
  !*** ./src/graphql/mutations/signUserUp.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar _require = __webpack_require__(/*! ../types/User */ \"./src/graphql/types/User/index.js\"),\n    User = _require.User;\n\nvar _require2 = __webpack_require__(/*! ../types/User/VerificationToken */ \"./src/graphql/types/User/VerificationToken.js\"),\n    VerificationToken = _require2.VerificationToken;\n\nvar signUserUpInput = \"\\n\\tinput SignUserUpInput {\\n\\t\\tusername: String!\\n\\t\\tpassword: String!\\n\\t\\temail: String!\\n\\t\\tfirstName: String\\n\\t\\tlastName: String\\n\\t}\\n\";\nvar signUserUpPayload = \"\\n\\ttype SignUserUpPayload {\\n\\t\\tcreatedUser: User\\n\\t}\\n\";\n\nvar signUserUp = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_, _ref) {\n    var signUserUpInput, username, password, email, firstName, lastName, user;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            signUserUpInput = _ref.signUserUpInput;\n            username = signUserUpInput.username, password = signUserUpInput.password, email = signUserUpInput.email, firstName = signUserUpInput.firstName, lastName = signUserUpInput.lastName;\n            user = User.signUp(username, password, email, firstName, lastName);\n            return _context.abrupt(\"return\", user.save().then(function (savedUser) {\n              var token = new VerificationToken({\n                user: user._id\n              });\n              return token.save();\n            }).then(function (savedToken) {\n              return user.sendEmail(signupTemplate, {\n                token: savedToken.token\n              });\n            }).then(function (mailInfo) {\n              return {\n                createdUser: user\n              };\n            }).catch(function (error) {\n              console.log('jebal pes');\n              throw error;\n            }));\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function signUserUp(_x, _x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nmodule.exports = {\n  signUserUpInput: signUserUpInput,\n  signUserUpPayload: signUserUpPayload,\n  signUserUp: signUserUp\n};\n\n//# sourceURL=webpack:///./src/graphql/mutations/signUserUp.js?");

/***/ }),

/***/ "./src/graphql/mutations/verifyOperationToken.js":
/*!*******************************************************!*\
  !*** ./src/graphql/mutations/verifyOperationToken.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar _require = __webpack_require__(/*! ../types/User/AuthToken */ \"./src/graphql/types/User/AuthToken.js\"),\n    AuthToken = _require.AuthToken;\n\nvar _require2 = __webpack_require__(/*! ../types/User/VerificationToken */ \"./src/graphql/types/User/VerificationToken.js\"),\n    VerificationToken = _require2.VerificationToken; // const { signupTemplate } = require('../../external/nodemailer/templates')\n\n\nvar verifiedOperations = {\n  signUp: {\n    findToken: function () {\n      var _findToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(token) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", VerificationToken.findOne({\n                  token: token\n                }));\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function findToken(_x) {\n        return _findToken.apply(this, arguments);\n      }\n\n      return findToken;\n    }(),\n    forceLogout: false,\n    cancelAllTokenOperation: false,\n    userCallback: function () {\n      var _userCallback = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(user) {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                user.setVerifiedFlag();\n                return _context2.abrupt(\"return\", user.save());\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function userCallback(_x2) {\n        return _userCallback.apply(this, arguments);\n      }\n\n      return userCallback;\n    }(),\n    responseMessage: 'Cunt'\n  },\n  passwordReset: {\n    findToken: function () {\n      var _findToken2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(token) {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                return _context3.abrupt(\"return\", VerificationToken.findOne({\n                  token: token\n                }));\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function findToken(_x3) {\n        return _findToken2.apply(this, arguments);\n      }\n\n      return findToken;\n    }(),\n    cancelAllTokenOperation: false,\n    forceLogout: true,\n    responseMessage: 'Fuck off'\n  },\n  emailChange: {\n    findToken: function () {\n      var _findToken3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(token) {\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                return _context4.abrupt(\"return\", VerificationToken.findOne({\n                  token: token\n                }));\n\n              case 1:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function findToken(_x4) {\n        return _findToken3.apply(this, arguments);\n      }\n\n      return findToken;\n    }(),\n    cancelAllTokenOperation: true,\n    forceLogout: true,\n    responseMessage: 'fuckingdie'\n  },\n  usernameChange: {\n    findToken: function () {\n      var _findToken4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(token) {\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                return _context5.abrupt(\"return\", VerificationToken.findOne({\n                  token: token\n                }));\n\n              case 1:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      function findToken(_x5) {\n        return _findToken4.apply(this, arguments);\n      }\n\n      return findToken;\n    }(),\n    cancelAllTokenOperation: true,\n    forceLogout: true,\n    responseMessage: 'aaaaaaaaa'\n  }\n};\nvar verifyOperationTokenInput = \"\\n\\tinput VerifyOperationTokenInput {\\n\\t\\temailToken: String!\\n\\t\\toperationType: String!\\n\\t}\\n\";\n\nvar verifyOperationToken = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(_, _ref) {\n    var verifyOperationTokenInput, emailToken, operationType, verifiedOperation, findToken, forceLogout, cancelAllTokenOperation, userCallback, responseMessage, user;\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            verifyOperationTokenInput = _ref.verifyOperationTokenInput;\n            emailToken = verifyOperationTokenInput.emailToken, operationType = verifyOperationTokenInput.operationType;\n            verifiedOperation = verifiedOperations[operationType];\n\n            if (verifiedOperation) {\n              _context6.next = 5;\n              break;\n            }\n\n            throw new Error('Invalid token operation');\n\n          case 5:\n            findToken = verifiedOperation.findToken, forceLogout = verifiedOperation.forceLogout, cancelAllTokenOperation = verifiedOperation.cancelAllTokenOperation, userCallback = verifiedOperation.userCallback, responseMessage = verifiedOperation.responseMessage;\n            _context6.next = 8;\n            return findToken(emailToken).populate('user');\n\n          case 8:\n            user = _context6.sent.user;\n\n            if (!forceLogout) {\n              _context6.next = 12;\n              break;\n            }\n\n            _context6.next = 12;\n            return AuthToken.deleteAllBy(user);\n\n          case 12:\n            if (!cancelAllTokenOperation) {\n              _context6.next = 15;\n              break;\n            }\n\n            _context6.next = 15;\n            return VerificationToken.deleteMany({\n              user: user\n            });\n\n          case 15:\n            if (!userCallback) {\n              _context6.next = 17;\n              break;\n            }\n\n            return _context6.abrupt(\"return\", userCallback(user));\n\n          case 17:\n            return _context6.abrupt(\"return\", {\n              message: responseMessage\n            });\n\n          case 18:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n\n  return function verifyOperationToken(_x6, _x7) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nmodule.exports = {\n  verifyOperationTokenInput: verifyOperationTokenInput,\n  verifyOperationToken: verifyOperationToken\n};\n\n//# sourceURL=webpack:///./src/graphql/mutations/verifyOperationToken.js?");

/***/ }),

/***/ "./src/graphql/queries/index.js":
/*!**************************************!*\
  !*** ./src/graphql/queries/index.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(n); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar validator = __webpack_require__(/*! validator */ \"validator\");\n\nvar _require = __webpack_require__(/*! ../types/Queue */ \"./src/graphql/types/Queue.js\"),\n    Queue = _require.Queue;\n\nvar _require2 = __webpack_require__(/*! ../types/Challenge */ \"./src/graphql/types/Challenge/index.js\"),\n    Challenge = _require2.Challenge;\n\nvar _require3 = __webpack_require__(/*! ../types/User */ \"./src/graphql/types/User/index.js\"),\n    User = _require3.User;\n\nvar _require4 = __webpack_require__(/*! ../../utils/authentication */ \"./src/utils/authentication.js\"),\n    authentication = _require4.authentication;\n\nvar validateResolvers = {\n  username: function () {\n    var _username2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_username, _) {\n      var userWithUsername;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(!_username || _username === '')) {\n                _context.next = 2;\n                break;\n              }\n\n              throw new Error('No username submitted');\n\n            case 2:\n              _context.next = 4;\n              return User.findByIdentifier(_username);\n\n            case 4:\n              userWithUsername = _context.sent;\n\n              if (userWithUsername) {\n                _context.next = 7;\n                break;\n              }\n\n              throw new Error('Username taken');\n\n            case 7:\n              return _context.abrupt(\"return\", true);\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    function username(_x, _x2) {\n      return _username2.apply(this, arguments);\n    }\n\n    return username;\n  }(),\n  email: function () {\n    var _email2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(_email, _) {\n      var userWithEmail;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(!_email || !validator.isEmail(_email))) {\n                _context2.next = 2;\n                break;\n              }\n\n              throw new Error('Invalid email');\n\n            case 2:\n              _context2.next = 4;\n              return User.findByIdentifier(_email);\n\n            case 4:\n              userWithEmail = _context2.sent;\n\n              if (userWithEmail) {\n                _context2.next = 7;\n                break;\n              }\n\n              throw new Error('Email taken');\n\n            case 7:\n              return _context2.abrupt(\"return\", true);\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    function email(_x3, _x4) {\n      return _email2.apply(this, arguments);\n    }\n\n    return email;\n  }(),\n  password: function () {\n    var _password2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(_password, token) {\n      var isPasswordUsed;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (_password) {\n                _context3.next = 2;\n                break;\n              }\n\n              throw new Error('No password specified');\n\n            case 2:\n              if (!(_password.length < 8)) {\n                _context3.next = 4;\n                break;\n              }\n\n              throw new Error('Too short');\n\n            case 4:\n              if (!token) {\n                _context3.next = 10;\n                break;\n              }\n\n              _context3.next = 7;\n              return authentication(token).then(function (user) {\n                return user.validPassword(_password);\n              });\n\n            case 7:\n              isPasswordUsed = _context3.sent;\n\n              if (!isPasswordUsed) {\n                _context3.next = 10;\n                break;\n              }\n\n              throw new Error('Password is same as previous one');\n\n            case 10:\n              return _context3.abrupt(\"return\", true);\n\n            case 11:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    function password(_x5, _x6) {\n      return _password2.apply(this, arguments);\n    }\n\n    return password;\n  }(),\n  referredBy: function () {\n    var _referredBy2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(_referredBy, _) {\n      var referal;\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              if (!(!_referredBy || _referredBy === '')) {\n                _context4.next = 2;\n                break;\n              }\n\n              throw new Error('No referal user specified');\n\n            case 2:\n              _context4.next = 4;\n              return User.findByIdentifier(_referredBy);\n\n            case 4:\n              referal = _context4.sent;\n\n              if (referal) {\n                _context4.next = 7;\n                break;\n              }\n\n              throw new Error('Entered invalid referal');\n\n            case 7:\n              return _context4.abrupt(\"return\", true);\n\n            case 8:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    function referredBy(_x7, _x8) {\n      return _referredBy2.apply(this, arguments);\n    }\n\n    return referredBy;\n  }()\n};\nvar querySchema = \"\\n\\t# NOTE: none of the data is actually mandatory, there for no exclamation marks\\n\\tenum ValidationCombinator {\\n\\t\\tAND,\\n\\t\\tOR\\n\\t}\\n\\n\\tinput ValidatedUserData {\\n\\t\\tusername: String,\\n\\t\\temail: String,\\n\\t\\tpassword: String,\\n\\t\\treferredBy: ID,\\n\\t\\toperation: ValidationCombinator\\n\\t}\\n\\n\\ttype Query {\\n\\t\\tqueues: [Queue!]!\\n\\t\\tqueue(name: String!): Queue\\n\\t\\tuser(username: String!): User\\n\\t\\tchallenge(challengeId: ID!): Challenge\\n\\t\\t\\n\\t\\t# special shit-code queries\\n\\t\\t# also chose to implement token as extra argument, as it serves as behaviour switch, when requesting pwd reset\\n\\t\\tvalidate(validatedUserData: ValidatedUserData!, token: String): Boolean!\\n\\t}\\n\\n\";\nvar Query = {\n  queues: function () {\n    var _queues = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n      return regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return Queue.findAll();\n\n            case 2:\n              return _context5.abrupt(\"return\", _context5.sent);\n\n            case 3:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    function queues() {\n      return _queues.apply(this, arguments);\n    }\n\n    return queues;\n  }(),\n  queue: function () {\n    var _queue = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(_, _ref) {\n      var name;\n      return regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              name = _ref.name;\n              _context6.next = 3;\n              return Queue.findByName(name);\n\n            case 3:\n              return _context6.abrupt(\"return\", _context6.sent);\n\n            case 4:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n\n    function queue(_x9, _x10) {\n      return _queue.apply(this, arguments);\n    }\n\n    return queue;\n  }(),\n  user: function user(_, _ref2) {\n    var username = _ref2.username;\n    return User.findByIdentifier(username);\n  },\n  challenge: function challenge(_, _ref3) {\n    var challengeId = _ref3.challengeId;\n    return Challenge.viewChallenge(challengeId);\n  },\n  validate: function () {\n    var _validate = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(_, _ref4) {\n      var validatedUserData, token, operation, data, validationPromises;\n      return regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              validatedUserData = _ref4.validatedUserData, token = _ref4.token;\n              operation = validatedUserData.operation, data = _objectWithoutProperties(validatedUserData, [\"operation\"]);\n              validationPromises = Object.entries(data).filter(function (_ref5) {\n                var _ref6 = _slicedToArray(_ref5, 2),\n                    validatedField = _ref6[0],\n                    _ = _ref6[1];\n\n                return validateResolvers[validatedField];\n              }).map(function (_ref7) {\n                var _ref8 = _slicedToArray(_ref7, 2),\n                    validatedField = _ref8[0],\n                    validatedValue = _ref8[1];\n\n                return validateResolvers[validatedField](validatedValue, token);\n              }); // TODO: Test this shit pls\n\n              return _context7.abrupt(\"return\", operation === 'OR' ? Promise.any(validationPromises) : Promise.all(validationPromises));\n\n            case 4:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7);\n    }));\n\n    function validate(_x11, _x12) {\n      return _validate.apply(this, arguments);\n    }\n\n    return validate;\n  }()\n};\nmodule.exports = {\n  querySchema: querySchema,\n  Query: Query\n};\n\n//# sourceURL=webpack:///./src/graphql/queries/index.js?");

/***/ }),

/***/ "./src/graphql/scalars/index.js":
/*!**************************************!*\
  !*** ./src/graphql/scalars/index.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var SCALARS = \"\\n\\n\\tscalar Date\\n\\tscalar DateTime\\n\\t\\n\";\nmodule.exports = SCALARS;\n\n//# sourceURL=webpack:///./src/graphql/scalars/index.js?");

/***/ }),

/***/ "./src/graphql/types/Challenge/ContentMeta.js":
/*!****************************************************!*\
  !*** ./src/graphql/types/Challenge/ContentMeta.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar mongoose = __webpack_require__(/*! mongoose */ \"mongoose\");\n\nvar _require = __webpack_require__(/*! ../utils/schemaTypeCreators */ \"./src/graphql/types/utils/schemaTypeCreators.js\"),\n    TimestampSchemaTypeCreator = _require.TimestampSchemaTypeCreator;\n\nvar ContentMetaDbSchema = new mongoose.Schema({\n  submittedBy: {\n    type: mongoose.Schema.Types.ObjectId,\n    required: true,\n    ref: 'User'\n  },\n  createdAt: TimestampSchemaTypeCreator(),\n  isActive: {\n    type: Boolean,\n    default: true\n  },\n  content: {\n    type: String,\n    required: true\n  },\n  attachmentUrls: [{\n    type: String\n  }]\n});\nvar ContentMetaSchema = \"\\n\\ttype ContentMeta {\\n\\t\\tsubmittedBy: User!\\n\\t\\tcreatedAt: Date!\\n\\t\\tisActive: Boolean!\\n\\t\\tcontent: String!\\n\\t\\tattachmentUrls: [String!]!\\n\\t}\\n\";\nvar ContentMetaResolvers = {\n  submittedBy: function () {\n    var _submittedBy = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(contentMeta) {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return contentMeta.populate('submittedBy');\n\n            case 2:\n              return _context.abrupt(\"return\", _context.sent.submittedBy);\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    function submittedBy(_x) {\n      return _submittedBy.apply(this, arguments);\n    }\n\n    return submittedBy;\n  }()\n};\nmodule.exports = {\n  ContentMetaDbSchema: ContentMetaDbSchema,\n  ContentMetaSchema: ContentMetaSchema,\n  ContentMetaResolvers: ContentMetaResolvers\n};\n\n//# sourceURL=webpack:///./src/graphql/types/Challenge/ContentMeta.js?");

/***/ }),

/***/ "./src/graphql/types/Challenge/Edit.js":
/*!*********************************************!*\
  !*** ./src/graphql/types/Challenge/Edit.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var mongoose = __webpack_require__(/*! mongoose */ \"mongoose\");\n\nvar _require = __webpack_require__(/*! ./ContentMeta */ \"./src/graphql/types/Challenge/ContentMeta.js\"),\n    ContentMetaDbSchema = _require.ContentMetaDbSchema,\n    ContentMetaSchema = _require.ContentMetaSchema;\n\nvar EditDbSchema = new mongoose.Schema({\n  contentMeta: ContentMetaDbSchema\n});\nvar EditSchema = \"\\n\\ttype Edit {\\n\\t\\tcontentMeta: ContentMeta!\\n\\t}\\n\";\nmodule.exports = {\n  EditDbSchema: EditDbSchema,\n  EditSchema: EditSchema\n};\n\n//# sourceURL=webpack:///./src/graphql/types/Challenge/Edit.js?");

/***/ }),

/***/ "./src/graphql/types/Challenge/Reply.js":
/*!**********************************************!*\
  !*** ./src/graphql/types/Challenge/Reply.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var mongoose = __webpack_require__(/*! mongoose */ \"mongoose\");\n\nvar _require = __webpack_require__(/*! ./ContentMeta */ \"./src/graphql/types/Challenge/ContentMeta.js\"),\n    ContentMetaDbSchema = _require.ContentMetaDbSchema;\n\nvar _require2 = __webpack_require__(/*! ./Edit */ \"./src/graphql/types/Challenge/Edit.js\"),\n    EditDbSchema = _require2.EditDbSchema;\n\nvar ReplyDbSchema = new mongoose.Schema({\n  contentMeta: ContentMetaDbSchema,\n  edits: [EditDbSchema]\n}); // ? related challenge\n\nvar ReplySchema = \"\\n\\ttype Reply {\\n\\t\\tcontentMeta: ContentMeta!\\n\\t\\tedits: [Edit!]!\\n\\t}\\n\";\nmodule.exports = {\n  ReplyDbSchema: ReplyDbSchema,\n  ReplySchema: ReplySchema\n};\n\n//# sourceURL=webpack:///./src/graphql/types/Challenge/Reply.js?");

/***/ }),

/***/ "./src/graphql/types/Challenge/Submission.js":
/*!***************************************************!*\
  !*** ./src/graphql/types/Challenge/Submission.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var mongoose = __webpack_require__(/*! mongoose */ \"mongoose\");\n\nvar _require = __webpack_require__(/*! ./ContentMeta */ \"./src/graphql/types/Challenge/ContentMeta.js\"),\n    ContentMetaDbSchema = _require.ContentMetaDbSchema;\n\nvar _require2 = __webpack_require__(/*! ./Edit */ \"./src/graphql/types/Challenge/Edit.js\"),\n    EditDbSchema = _require2.EditDbSchema;\n\nvar _require3 = __webpack_require__(/*! ./Reply */ \"./src/graphql/types/Challenge/Reply.js\"),\n    ReplyDbSchema = _require3.ReplyDbSchema;\n\nvar SubmissionDbSchema = new mongoose.Schema({\n  contentMeta: ContentMetaDbSchema,\n  edits: [EditDbSchema],\n  replies: [ReplyDbSchema]\n}); // RELATED CHALLENGE\n\nvar SubmissionSchema = \"\\n\\ttype Submission {\\n\\t\\tcontentMeta: ContentMeta!\\n\\t\\tedits: [Edit!]!\\n\\t\\treplies: [Reply!]!\\n\\t}\\n\";\nmodule.exports = {\n  SubmissionDbSchema: SubmissionDbSchema,\n  SubmissionSchema: SubmissionSchema\n};\n\n//# sourceURL=webpack:///./src/graphql/types/Challenge/Submission.js?");

/***/ }),

/***/ "./src/graphql/types/Challenge/index.js":
/*!**********************************************!*\
  !*** ./src/graphql/types/Challenge/index.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar mongoose = __webpack_require__(/*! mongoose */ \"mongoose\");\n\nvar _require = __webpack_require__(/*! ./ContentMeta */ \"./src/graphql/types/Challenge/ContentMeta.js\"),\n    ContentMetaDbSchema = _require.ContentMetaDbSchema,\n    ContentMetaSchema = _require.ContentMetaSchema,\n    ContentMetaResolvers = _require.ContentMetaResolvers;\n\nvar _require2 = __webpack_require__(/*! ./Edit */ \"./src/graphql/types/Challenge/Edit.js\"),\n    EditDbSchema = _require2.EditDbSchema,\n    EditSchema = _require2.EditSchema;\n\nvar _require3 = __webpack_require__(/*! ./Reply */ \"./src/graphql/types/Challenge/Reply.js\"),\n    ReplySchema = _require3.ReplySchema;\n\nvar _require4 = __webpack_require__(/*! ./Submission */ \"./src/graphql/types/Challenge/Submission.js\"),\n    SubmissionDbSchema = _require4.SubmissionDbSchema,\n    SubmissionSchema = _require4.SubmissionSchema;\n\nvar _require5 = __webpack_require__(/*! ../../../utils */ \"./src/utils/index.js\"),\n    calculatePageCount = _require5.calculatePageCount;\n\nvar BoostDbSchema = new mongoose.Schema({\n  boostAmount: {\n    type: Number,\n    required: true\n  },\n  boostedBy: {\n    type: mongoose.Schema.Types.ObjectId,\n    required: true,\n    ref: 'User'\n  },\n  // TODO improve\n  paypal_order: {\n    type: Object\n  },\n  _id: false\n});\nvar ChallengeDbSchema = new mongoose.Schema({\n  // contentMeta: ContentMetaDbSchema,\n  queue: {\n    type: mongoose.Schema.Types.ObjectId,\n    required: true,\n    ref: 'Queue'\n  },\n  rootQueueValue: {\n    type: Number,\n    default: 0,\n    index: true\n  },\n  acceptedSubmission: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: 'Submission'\n  },\n  title: {\n    type: String,\n    required: true\n  },\n  viewCount: {\n    type: Number,\n    default: 0\n  },\n  boosts: [BoostDbSchema],\n  edits: [EditDbSchema],\n  submissions: [SubmissionDbSchema],\n  // DERIVED FIELDS\n  totalBoostAmount: {\n    type: Number,\n    default: 0\n  },\n  bounty: {\n    type: Number,\n    default: 0\n  },\n  isSolved: {\n    type: Boolean,\n    default: false\n  }\n});\n\nChallengeDbSchema.statics.viewChallenge = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(id) {\n    var challenge;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return this.findOne({\n              _id: id\n            });\n\n          case 2:\n            challenge = _context.sent;\n            // TODO read about fetching subdocuments in mongoose\n            challenge.view_count++;\n            _context.next = 6;\n            return challenge.save();\n\n          case 6:\n            return _context.abrupt(\"return\", challenge);\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar Challenge = mongoose.model('Challenge', ChallengeDbSchema, 'Challenge');\nvar ChallengeSchema = \"\\n\\t\".concat(ContentMetaSchema, \"\\n\\t\").concat(EditSchema, \"\\n\\t\").concat(ReplySchema, \"\\n\\t\").concat(SubmissionSchema, \"\\n\\n\\ttype Boost {\\n\\t\\tboostAmount: Float!\\n\\t\\tboostedBy: User\\n\\t\\t# payPalOrder: ???\\n\\t}\\n\\n\\ttype Challenge {\\n\\t\\tcontentMeta: ContentMeta!\\n\\t\\tqueue: Queue!\\n\\t\\trootQueueValue: Float!\\n\\t\\tacceptedSubmission: Submission\\n\\t\\ttitle: String!\\n\\t\\tviewCount: Int!\\n\\t\\tboosts: [Boost!]!\\n\\t\\tedits: [Edit!]!\\n\\t\\tsubmissionPageCount(pageCount: Int): Int!\\n\\t\\tsubmissions: [Submission!]!\\n\\n\\t\\ttotalBoostAmount: Int!,\\n\\t\\tbounty: Int!,\\n\\t\\tisSolved: Boolean!\\n\\t}\\n\");\nvar ChallengeResolvers = {\n  queue: function () {\n    var _queue = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(challenge) {\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return challenge.populate('queue').execPopulate();\n\n            case 2:\n              return _context2.abrupt(\"return\", _context2.sent.queue);\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    function queue(_x2) {\n      return _queue.apply(this, arguments);\n    }\n\n    return queue;\n  }(),\n  submissionPageCount: function submissionPageCount(challenge, _ref2) {\n    var _ref2$pageSize = _ref2.pageSize,\n        pageSize = _ref2$pageSize === void 0 ? 50 : _ref2$pageSize;\n    return calculatePageCount(chalenge.submissions.length, pageSize);\n  }\n};\nvar ChallengeNestedResolvers = {\n  ContentMeta: ContentMetaResolvers\n};\nmodule.exports = {\n  Challenge: Challenge,\n  ChallengeSchema: ChallengeSchema,\n  ChallengeResolvers: ChallengeResolvers,\n  ChallengeNestedResolvers: ChallengeNestedResolvers\n};\n\n//# sourceURL=webpack:///./src/graphql/types/Challenge/index.js?");

/***/ }),

/***/ "./src/graphql/types/Queue.js":
/*!************************************!*\
  !*** ./src/graphql/types/Queue.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar mongoose = __webpack_require__(/*! mongoose */ \"mongoose\");\n\nvar nestedSetPlugin = __webpack_require__(/*! mongoose-nested-set */ \"mongoose-nested-set\");\n\nvar Challenge = __webpack_require__(/*! ./Challenge */ \"./src/graphql/types/Challenge/index.js\");\n\nvar QueueDbSchema = new mongoose.Schema({\n  name: {\n    type: String,\n    unique: true,\n    trim: true,\n    required: true\n  },\n  depth: {\n    type: Number,\n    default: 0\n  },\n  karmaValue: {\n    type: Number,\n    default: 0\n  }\n});\nQueueDbSchema.plugin(nestedSetPlugin); // h4xx0rz to overwrite shema of plugin parentId\n\nQueueDbSchema.add({\n  parentId: {\n    type: mongoose.Schema.Types.ObjectId,\n    required: true,\n    ref: 'Queue',\n    index: true\n  }\n});\nvar ROOT_NAME = 'All';\n\nQueueDbSchema.statics.findByName = function (name) {\n  return this.findOne({\n    name: name\n  });\n};\n\nQueueDbSchema.statics.findRoot = function () {\n  return this.findByName(ROOT_NAME);\n};\n\nQueueDbSchema.statics.findAll = function () {\n  return this.find({});\n};\n\nQueueDbSchema.statics.createQueue = function (name, parentName) {\n  return this.findByName(parentName).then(function (parentQueue) {\n    var newQueue = new Queue({\n      parentId: parentQueue._id,\n      name: name\n    });\n    return newQueue.save();\n  });\n};\n\nQueue = mongoose.model('Queue', QueueDbSchema, 'Queue');\nvar QueueSchema = \"\\n\\ttype Queue {\\n\\t\\t# Don't leave queue _ids exposed\\n\\t\\tname: String!\\n\\t\\tkarmaValue: Int!\\n\\t\\t# related Qs\\n\\t\\tparent: Queue\\n\\t\\tchildren: [Queue]!\\n\\t\\tdescendants: [Queue]!\\n\\t\\tancestors: [Queue]!\\n\\n\\t\\tchallenges(paging: Paging): [Challenge!]!\\n\\t\\tchallengePageCount(pageSize: Int): Int!\\n\\t\\tchallengePosition(challengeId: String!): Int\\n\\n\\t\\tscoreboard(paging: Paging): [User!]!\\n\\t\\tscoreboardPageCount(pageSize: Int): Int!\\n\\t\\tscoreboardUserPosition(username: String!): Int\\n\\t}\\n\";\nvar QueueResolvers = {\n  parent: function () {\n    var _parent = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(queue) {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return queue.populate({\n                path: 'parentId'\n              }).execPopulate();\n\n            case 2:\n              return _context.abrupt(\"return\", _context.sent.parent);\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    function parent(_x) {\n      return _parent.apply(this, arguments);\n    }\n\n    return parent;\n  }(),\n  children: function () {\n    var _children = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(queue) {\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return Queue.find({\n                parentId: queue._id\n              });\n\n            case 2:\n              return _context2.abrupt(\"return\", _context2.sent);\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    function children(_x2) {\n      return _children.apply(this, arguments);\n    }\n\n    return children;\n  }(),\n  // Ineffective method when querying multiple queues and get descendant for each\n  descendants: function () {\n    var _descendants = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(queue) {\n      var filter, result;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              filter = {\n                lft: {\n                  $gte: queue.lft\n                },\n                rgt: {\n                  $lte: queue.rgt\n                }\n              };\n              _context3.next = 3;\n              return Queue.find(filter);\n\n            case 3:\n              result = _context3.sent;\n              return _context3.abrupt(\"return\", result);\n\n            case 5:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    function descendants(_x3) {\n      return _descendants.apply(this, arguments);\n    }\n\n    return descendants;\n  }(),\n  ancestors: function () {\n    var _ancestors = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(queue) {\n      var filter, result;\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              filter = {\n                lft: {\n                  $lt: queue.lft\n                },\n                rgt: {\n                  $gt: queue.rgt\n                }\n              };\n              _context4.next = 3;\n              return Queue.find(filter);\n\n            case 3:\n              result = _context4.sent;\n              return _context4.abrupt(\"return\", result);\n\n            case 5:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    function ancestors(_x4) {\n      return _ancestors.apply(this, arguments);\n    }\n\n    return ancestors;\n  }(),\n  challenges: function () {\n    var _challenges = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(queue, _ref) {\n      var _ref$paging, paging, page, pageSize, desc, size, challenges;\n\n      return regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _ref$paging = _ref.paging, paging = _ref$paging === void 0 ? {\n                page: 1,\n                pageSize: 50\n              } : _ref$paging;\n              page = paging.page, pageSize = paging.pageSize;\n              _context5.next = 4;\n              return Queue.find().descendants({\n                name: queue.name\n              }, 'id');\n\n            case 4:\n              desc = _context5.sent;\n              _context5.next = 7;\n              return Challenge.countDocuments({\n                active: true,\n                queue: {\n                  $in: desc.map(function (x) {\n                    return x.id;\n                  })\n                }\n              });\n\n            case 7:\n              size = _context5.sent;\n              _context5.next = 10;\n              return Challenge.find({\n                active: true,\n                queue: {\n                  $in: desc\n                }\n              }).sort({\n                root_queue_value: 'desc'\n              }).skip(pageSize * (page - 1)).limit(pageSize);\n\n            case 10:\n              challenges = _context5.sent;\n              return _context5.abrupt(\"return\", challenges);\n\n            case 12:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    function challenges(_x5, _x6) {\n      return _challenges.apply(this, arguments);\n    }\n\n    return challenges;\n  }(),\n  challengePageCount: function () {\n    var _challengePageCount = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(queue, _ref2) {\n      var _ref2$pageSize, pageSize, desc, challengesCount, pageCount;\n\n      return regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _ref2$pageSize = _ref2.pageSize, pageSize = _ref2$pageSize === void 0 ? 50 : _ref2$pageSize;\n              _context6.next = 3;\n              return Queue.find().descendants({\n                name: queue.name\n              }, 'id');\n\n            case 3:\n              desc = _context6.sent;\n              _context6.next = 6;\n              return Challenge.countDocuments({\n                active: true,\n                queue: {\n                  $in: desc.map(function (x) {\n                    return x.id;\n                  })\n                }\n              });\n\n            case 6:\n              challengesCount = _context6.sent;\n              pageCount = Math.floor(challengesCount / pageSize) + (challengesCount % pageSize > 0 ? 1 : 0);\n              return _context6.abrupt(\"return\", pageCount);\n\n            case 9:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n\n    function challengePageCount(_x7, _x8) {\n      return _challengePageCount.apply(this, arguments);\n    }\n\n    return challengePageCount;\n  }(),\n  challengePosition: function () {\n    var _challengePosition = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(queue, _ref3) {\n      var challengeId, descendantQueues, challenge;\n      return regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              challengeId = _ref3.challengeId;\n              _context7.next = 3;\n              return Queue.find().descendants({\n                _id: queue._id\n              }, '_id');\n\n            case 3:\n              descendantQueues = _context7.sent;\n              _context7.next = 6;\n              return Challenge.findOne({\n                _id: challengeId\n              });\n\n            case 6:\n              challenge = _context7.sent;\n\n              if (!descendantQueues.find(function (descendantQueue) {\n                return descendantQueue._id.equals(challenge.queue);\n              })) {\n                _context7.next = 13;\n                break;\n              }\n\n              _context7.next = 10;\n              return Challenge.countDocuments({\n                queue: {\n                  $in: descendantQueues.map(function (_ref4) {\n                    var _id = _ref4._id;\n                    return _id;\n                  })\n                },\n                root_queue_value: {\n                  $gte: challenge.root_queue_value\n                }\n              });\n\n            case 10:\n              _context7.t0 = _context7.sent;\n              _context7.next = 14;\n              break;\n\n            case 13:\n              _context7.t0 = null;\n\n            case 14:\n              return _context7.abrupt(\"return\", _context7.t0);\n\n            case 15:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7);\n    }));\n\n    function challengePosition(_x9, _x10) {\n      return _challengePosition.apply(this, arguments);\n    }\n\n    return challengePosition;\n  }(),\n  // Migrate Away\n  scoreboard: function scoreboard(queue, _ref5) {\n    var _ref5$paging = _ref5.paging,\n        paging = _ref5$paging === void 0 ? {\n      page: 1,\n      pageSize: 50\n    } : _ref5$paging;\n    return [];\n  },\n  scoreboardPageCount: function scoreboardPageCount(queue, _ref6) {\n    var _ref6$pageSize = _ref6.pageSize,\n        pageSize = _ref6$pageSize === void 0 ? 50 : _ref6$pageSize;\n    return 1;\n  },\n  scoreboardUserPosition: function scoreboardUserPosition(queue, _ref7) {\n    var username = _ref7.username;\n    return 0;\n  }\n};\nmodule.exports = {\n  Queue: Queue,\n  QueueSchema: QueueSchema,\n  QueueResolvers: QueueResolvers\n};\n\n//# sourceURL=webpack:///./src/graphql/types/Queue.js?");

/***/ }),

/***/ "./src/graphql/types/User/AuthToken.js":
/*!*********************************************!*\
  !*** ./src/graphql/types/User/AuthToken.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar mongoose = __webpack_require__(/*! mongoose */ \"mongoose\");\n\nvar jwt = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n\nvar AuthTokenDbSchema = new mongoose.Schema({\n  user: {\n    type: mongoose.Schema.Types.ObjectId,\n    required: true,\n    ref: 'User'\n  },\n  token: {\n    type: String,\n    unique: true,\n    index: true,\n    default: function _default() {\n      return jwt.sign({\n        _id: this.user\n      }, process.env.JWT_KEY);\n    }\n  },\n  createdAt: {\n    type: Date,\n    default: Date.now,\n    expires: 12000\n  }\n});\n\nAuthTokenDbSchema.statics.generate = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(user) {\n    var authTokenRecord;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            authTokenRecord = new this({\n              user: user\n            });\n            _context.next = 3;\n            return authTokenRecord.save();\n\n          case 3:\n            return _context.abrupt(\"return\", authTokenRecord);\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nAuthTokenDbSchema.statics.findRecord = function (token) {\n  return this.findOne({\n    token: token\n  });\n};\n\nAuthTokenDbSchema.statics.deleteToken = function (token) {\n  return this.deleteOne({\n    token: token\n  });\n};\n\nAuthTokenDbSchema.statics.deleteAllBy = function (_ref2) {\n  var user = _ref2._id;\n  return this.deleteMany({\n    user: user\n  });\n};\n\nAuthToken = mongoose.model('AuthToken', AuthTokenDbSchema, 'AuthToken');\nmodule.exports = {\n  AuthToken: AuthToken\n};\n\n//# sourceURL=webpack:///./src/graphql/types/User/AuthToken.js?");

/***/ }),

/***/ "./src/graphql/types/User/Transaction.js":
/*!***********************************************!*\
  !*** ./src/graphql/types/User/Transaction.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var mongoose = __webpack_require__(/*! mongoose */ \"mongoose\");\n\nvar _require = __webpack_require__(/*! ../utils/schemaTypeCreators */ \"./src/graphql/types/utils/schemaTypeCreators.js\"),\n    TimestampSchemaTypeCreator = _require.TimestampSchemaTypeCreator;\n\nvar TransactionDbSchema = new mongoose.Schema({\n  type: {\n    type: String,\n    required: true\n  },\n  from: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: 'User',\n    default: null\n  },\n  to: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: 'User',\n    default: null\n  },\n  amount: {\n    type: Number,\n    // refactor with currency enum\n    default: 0\n  },\n  karmaAmount: {\n    type: Number,\n    default: 0\n  },\n  createdAt: TimestampSchemaTypeCreator(),\n  meta: {\n    // TODO define custom validator, that would for each transaction type validate correct transaction meta\n    relatedQueue: {\n      type: mongoose.Schema.Types.ObjectId,\n      ref: 'Queue'\n    }\n  }\n});\nvar TransactionSchema = \"\\n\\ttype Transaction {\\n\\t\\ttype: String!,\\n\\t\\tfrom: User,\\n\\t\\tto: User,\\n\\t\\tamount: Int!,\\n\\t\\tkarmaAmount: Int!,\\n\\t\\tmeta: String\\n\\t}\\n\\n\";\nvar TransactionResolvers = {};\nmodule.exports = {\n  TransactionDbSchema: TransactionDbSchema,\n  TransactionSchema: TransactionSchema,\n  TransactionResolvers: TransactionResolvers\n};\n\n//# sourceURL=webpack:///./src/graphql/types/User/Transaction.js?");

/***/ }),

/***/ "./src/graphql/types/User/VerificationToken.js":
/*!*****************************************************!*\
  !*** ./src/graphql/types/User/VerificationToken.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var _this = this;\n\nvar mongoose = __webpack_require__(/*! mongoose */ \"mongoose\");\n\nvar jwt = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n\nvar USERNAME_UPDATE = 'USER_UPDATE_USERNAME';\nvar PASSWORD_RESET = 'USER_PASSWORD_RESET';\nvar EMAIL_UPDATE = 'USER_UPDATE_EMAIL';\n\nvar _require = __webpack_require__(/*! ../utils/schemaTypeCreators */ \"./src/graphql/types/utils/schemaTypeCreators.js\"),\n    EmailSchemaTypeCreator = _require.EmailSchemaTypeCreator;\n\nvar VerificationTokenDbSchema = new mongoose.Schema({\n  type: {\n    type: String,\n    enum: [USERNAME_UPDATE, PASSWORD_RESET, EMAIL_UPDATE],\n    required: true\n  },\n  user: {\n    type: mongoose.Schema.Types.ObjectId,\n    required: true,\n    ref: 'User'\n  },\n  token: {\n    type: String,\n    required: true,\n    default: function _default() {\n      return crypto.randomBytes(16).toString('hex');\n    }\n  },\n  createdAt: {\n    type: Date,\n    default: Date.now,\n    index: true,\n    max: Date.now\n  },\n  payload: {\n    userUpdate: {\n      newUsername: {\n        type: String,\n        required: function required() {\n          return _this.type === USERNAME_UPDATE;\n        }\n      },\n      newEmail: EmailSchemaTypeCreator(function () {\n        this.type === EMAIL_UPDATE;\n      }, false)\n    }\n  }\n});\nvar VerificationToken = mongoose.model('VerificationToken', VerificationTokenDbSchema, 'VerificationToken');\nmodule.exports = {\n  VerificationToken: VerificationToken\n};\n\n//# sourceURL=webpack:///./src/graphql/types/User/VerificationToken.js?");

/***/ }),

/***/ "./src/graphql/types/User/index.js":
/*!*****************************************!*\
  !*** ./src/graphql/types/User/index.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar mongoose = __webpack_require__(/*! mongoose */ \"mongoose\");\n\nvar bcrypt = __webpack_require__(/*! bcrypt */ \"bcrypt\");\n\nvar jwt = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n\nvar validator = __webpack_require__(/*! validator */ \"validator\");\n\nvar _require = __webpack_require__(/*! ../Challenge */ \"./src/graphql/types/Challenge/index.js\"),\n    Challenge = _require.Challenge;\n\nvar _require2 = __webpack_require__(/*! ../Challenge/Submission */ \"./src/graphql/types/Challenge/Submission.js\"),\n    Submission = _require2.Submission;\n\nvar _require3 = __webpack_require__(/*! ../Challenge/Reply */ \"./src/graphql/types/Challenge/Reply.js\"),\n    Reply = _require3.Reply;\n\nvar _require4 = __webpack_require__(/*! ../Queue */ \"./src/graphql/types/Queue.js\"),\n    QueueMethods = _require4.QueueMethods;\n\nvar _require5 = __webpack_require__(/*! ./Transaction */ \"./src/graphql/types/User/Transaction.js\"),\n    TransactionDbSchema = _require5.TransactionDbSchema,\n    TransactionSchema = _require5.TransactionSchema,\n    TransactionResolvers = _require5.TransactionResolvers;\n\nvar _require6 = __webpack_require__(/*! ../../../utils */ \"./src/utils/index.js\"),\n    calculatePageCount = _require6.calculatePageCount;\n\nvar _require7 = __webpack_require__(/*! ../utils/schemaTypeCreators */ \"./src/graphql/types/utils/schemaTypeCreators.js\"),\n    PasswordSchemaTypeCreator = _require7.PasswordSchemaTypeCreator,\n    EmailSchemaTypeCreator = _require7.EmailSchemaTypeCreator;\n\nvar AuthTokenDbSchema = new mongoose.Schema({\n  token: {\n    type: String,\n    required: true,\n    unique: true,\n    index: true\n  },\n  createdAt: {\n    type: Date,\n    default: Date.now,\n    expires: 12000\n  }\n});\nvar KarmaEntryDbSchema = new mongoose.Schema({\n  queue: {\n    type: mongoose.Schema.Types.ObjectId,\n    required: true,\n    ref: 'Queue'\n  },\n  karma: {\n    type: Number,\n    required: true,\n    min: 0\n  }\n});\nvar UserDbSchema = new mongoose.Schema({\n  username: {\n    type: String,\n    required: true,\n    unique: true,\n    trim: true,\n    index: true\n  },\n  password: PasswordSchemaTypeCreator(),\n  email: EmailSchemaTypeCreator(),\n  firstName: {\n    type: String,\n    default: ''\n  },\n  lastName: {\n    type: String,\n    default: ''\n  },\n  wallet: {\n    type: Number,\n    default: 0\n  },\n  referredBy: {\n    type: String,\n    default: ''\n  },\n  verified: {\n    type: Boolean,\n    default: false\n  },\n  transactions: [TransactionDbSchema],\n  karmaEntries: [KarmaEntryDbSchema],\n  allowNsfw: {\n    type: Boolean,\n    default: false\n  }\n});\n\nUserDbSchema.statics.findByIdentifier = function (identifier) {\n  var predicate = validator.isEmail(identifir) ? {\n    email: identifier\n  } : {\n    username: identifier\n  };\n  return this.findOne(predicate);\n};\n\nUserDbSchema.statics.signUp = function (username, password, email, firstName, lastName) {\n  return new this({\n    username: username,\n    password: password,\n    email: email,\n    firstName: firstName,\n    lastName: lastName\n  });\n};\n\nUserDbSchema.statics.signIn = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(identifier, password) {\n    var user, hasValidPassword;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return this.findByIdentifier(identifier);\n\n          case 2:\n            user = _context.sent;\n\n            if (user) {\n              _context.next = 5;\n              break;\n            }\n\n            throw new Error('Invalid login credentials');\n\n          case 5:\n            _context.next = 7;\n            return user.isPasswordValid(password);\n\n          case 7:\n            hasValidPassword = _context.sent;\n\n            if (hasValidPassword) {\n              _context.next = 10;\n              break;\n            }\n\n            throw new Error('Invalid login credentials');\n\n          case 10:\n            return _context.abrupt(\"return\", user);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nUserDbSchema.statics.generatePasswordHash = function (pwd) {\n  return bcrypt.hashSync(pwd, bcrypt.genSaltSync(8), null);\n};\n\nUserDbSchema.statics.areIdentifiersAvailable = function (username, email) {\n  return this.exists({\n    $or: [{\n      username: username\n    }, {\n      email: email\n    }]\n  });\n};\n\nUserDbSchema.methods.getField = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(field, populatePath) {\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return this.populate(populatePath || field).execPopulate();\n\n          case 2:\n            _context2.t0 = field;\n            return _context2.abrupt(\"return\", _context2.sent[_context2.t0]);\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nUserDbSchema.methods.isPasswordValid = function (comparedPassword) {\n  return bcrypt.compare(this.password, comparedPassword);\n};\n\nUserDbSchema.methods.setUserVerified = function () {\n  if (!!this.verified) {\n    throw new Error({\n      error: 'User already verified'\n    });\n  }\n\n  this.verified = true;\n  return this;\n};\n\nUserDbSchema.methods.addTransaction = function (type, _ref3, amount, karmaAmount, meta) {\n  var from = _ref3.from,\n      to = _ref3.to;\n  this.transactions.push({\n    type: type,\n    from: from,\n    to: to,\n    amount: amount,\n    karmaAmount: karmaAmount,\n    createdAt: createdAt,\n    meta: meta\n  });\n  return this;\n};\n\nUserDbSchema.methods.addBalance = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(queueName, amount, karmaAmount) {\n    var challengeQueue, karmaEntry;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return QueueMethods.findByName(queueName);\n\n          case 2:\n            challengeQueue = _context3.sent;\n            karmaEntry = this.karmaEntries.find(function (_ref5) {\n              var queue = _ref5.queue;\n              return queue === relatedQueue.id;\n            });\n\n            if (!karmaEntry) {\n              karmaEntry = {\n                queue: relatedQueue.id,\n                karma: karmaAmount\n              };\n              this.karmaEntries.push(karmaEntry);\n            } else {\n              karmaEntry.karma += karmaAmount;\n            }\n\n            this.wallet += amount;\n            return _context3.abrupt(\"return\", this);\n\n          case 7:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n\n  return function (_x5, _x6, _x7) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nvar User = mongoose.model('User', UserDbSchema, 'User');\nvar UserSchema = \"\\n\\t\".concat(TransactionSchema, \"\\n\\n\\ttype KarmaEntry {\\n\\t\\tqueue: Queue!\\n\\t\\tkarma: Int!\\n\\t}\\n\\n\\ttype User {\\n\\t\\t# Basic data\\n\\t\\tusername: String!\\n\\t\\temail: String!\\n\\t\\tfirstName: String\\n\\t\\tlastName: String\\n\\t\\t# referral\\n\\t\\treferredBy: User\\n\\t\\t# misc\\n\\t\\tverified: Boolean!\\n\\t\\tallowNsfw: Boolean!\\n\\t\\t\\n\\t\\t# scoreboard\\n\\t\\tkarmaEntries: [KarmaEntry!]!\\n\\t\\t# related transactions\\n\\t\\ttransactions(paging: Paging, authToken: String!): [Transaction!]!\\n\\t\\ttransactionPageCount(pageSize: Int, authToken: String!): Int!\\n\\n\\t\\t# related posts\\t\\t\\n\\t\\tposts(paging: Paging): [Challenge!]!\\n\\t\\tpostPageCount(pageSize: Int): Int!\\n\\t\\t# misc statistics\\n\\t\\tnumberOfChallenges: Int!\\n\\t\\tnumberOfSubmissions: Int!\\n\\t\\tnumberOfReplies: Int!\\n\\t}\\n\");\nvar UserResolvers = {\n  referredBy: function () {\n    var _referredBy = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(user) {\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              return _context4.abrupt(\"return\", UserMethods.getField(user, 'referredBy'));\n\n            case 1:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    function referredBy(_x8) {\n      return _referredBy.apply(this, arguments);\n    }\n\n    return referredBy;\n  }(),\n  // TODO: added default params, make sure that typescript allows non-negative params in functions\n  transactions: function () {\n    var _transactions = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(user, _ref6) {\n      var _ref6$paging, paging, authToken;\n\n      return regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _ref6$paging = _ref6.paging, paging = _ref6$paging === void 0 ? {\n                page: 1,\n                pageSize: 50\n              } : _ref6$paging, authToken = _ref6.authToken;\n              return _context5.abrupt(\"return\", user.transactions);\n\n            case 2:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    function transactions(_x9, _x10) {\n      return _transactions.apply(this, arguments);\n    }\n\n    return transactions;\n  }(),\n  transactionPageCount: function () {\n    var _transactionPageCount = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(user, _ref7) {\n      var _ref7$pageSize, pageSize;\n\n      return regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _ref7$pageSize = _ref7.pageSize, pageSize = _ref7$pageSize === void 0 ? 50 : _ref7$pageSize;\n              return _context6.abrupt(\"return\", calculatePageCount(user.transactions.length, pageSize));\n\n            case 2:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n\n    function transactionPageCount(_x11, _x12) {\n      return _transactionPageCount.apply(this, arguments);\n    }\n\n    return transactionPageCount;\n  }(),\n  posts: function () {\n    var _posts = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(user, _ref8) {\n      var _ref8$paging, paging, page, pageSize, userPosts;\n\n      return regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              _ref8$paging = _ref8.paging, paging = _ref8$paging === void 0 ? {\n                page: 1,\n                pageSize: 50\n              } : _ref8$paging;\n              page = paging.page, pageSize = paging.pageSize;\n              _context7.next = 4;\n              return Post.find({\n                submitted_by: user._id\n              }).skip(pageSize * (page - 1)).limit(pageSize);\n\n            case 4:\n              userPosts = _context7.sent;\n              return _context7.abrupt(\"return\", userPosts);\n\n            case 6:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7);\n    }));\n\n    function posts(_x13, _x14) {\n      return _posts.apply(this, arguments);\n    }\n\n    return posts;\n  }(),\n  postPageCount: function () {\n    var _postPageCount = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8(user, _ref9) {\n      var _ref9$pageSize, pageSize, postCount, pageCount;\n\n      return regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              _ref9$pageSize = _ref9.pageSize, pageSize = _ref9$pageSize === void 0 ? 50 : _ref9$pageSize;\n              _context8.next = 3;\n              return Post.countDocuments({\n                submitted_by: user._id\n              });\n\n            case 3:\n              postCount = _context8.sent;\n              pageCount = calculatePageCount(postCount, pageSize);\n              return _context8.abrupt(\"return\", pageCount);\n\n            case 6:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8);\n    }));\n\n    function postPageCount(_x15, _x16) {\n      return _postPageCount.apply(this, arguments);\n    }\n\n    return postPageCount;\n  }(),\n  numberOfChallenges: function numberOfChallenges(user) {\n    return Challenge.countDocuments({\n      submitted_by: user._id\n    });\n  },\n  numberOfSubmissions: function numberOfSubmissions(user) {\n    return Submission.countDocuments({\n      submitted_by: user._id\n    });\n  },\n  numberOfReplies: function numberOfReplies(user) {\n    return Reply.countDocuments({\n      submitted_by: user._id\n    });\n  }\n};\nvar UserNestedResolvers = {\n  Transaction: TransactionResolvers\n};\nmodule.exports = {\n  User: User,\n  UserSchema: UserSchema,\n  UserResolvers: UserResolvers,\n  UserNestedResolvers: UserNestedResolvers\n};\n\n//# sourceURL=webpack:///./src/graphql/types/User/index.js?");

/***/ }),

/***/ "./src/graphql/types/index.js":
/*!************************************!*\
  !*** ./src/graphql/types/index.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar _require = __webpack_require__(/*! ./Challenge */ \"./src/graphql/types/Challenge/index.js\"),\n    ChallengeSchema = _require.ChallengeSchema,\n    ChallengeResolvers = _require.ChallengeResolvers,\n    ChallengeNestedResolvers = _require.ChallengeNestedResolvers;\n\nvar _require2 = __webpack_require__(/*! ./Queue */ \"./src/graphql/types/Queue.js\"),\n    QueueSchema = _require2.QueueSchema,\n    QueueResolvers = _require2.QueueResolvers;\n\nvar _require3 = __webpack_require__(/*! ./User */ \"./src/graphql/types/User/index.js\"),\n    UserSchema = _require3.UserSchema,\n    UserResolvers = _require3.UserResolvers,\n    UserNestedResolvers = _require3.UserNestedResolvers;\n\nvar types = \"\\n\\t\".concat(ChallengeSchema, \"\\n\\t\").concat(QueueSchema, \"\\n\\t\").concat(UserSchema, \"\\n\");\n\nvar accessors = _objectSpread({}, ChallengeNestedResolvers, {\n  Challenge: ChallengeResolvers,\n  Queue: QueueResolvers\n}, UserNestedResolvers, {\n  User: UserResolvers\n});\n\nmodule.exports = {\n  accessors: accessors,\n  types: types\n};\n\n//# sourceURL=webpack:///./src/graphql/types/index.js?");

/***/ }),

/***/ "./src/graphql/types/utils/schemaTypeCreators.js":
/*!*******************************************************!*\
  !*** ./src/graphql/types/utils/schemaTypeCreators.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var PasswordSchemaTypeCreator = function PasswordSchemaTypeCreator() {\n  return {\n    type: String,\n    required: true,\n    minLength: 8\n  };\n};\n\nvar EmailSchemaTypeCreator = function EmailSchemaTypeCreator() {\n  var requiredFlagOrCallback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n  var shouldHaveUniqueIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  return {\n    type: String,\n    required: requiredFlagOrCallback,\n    unique: shouldHaveUniqueIndex,\n    lowercase: true,\n    validate: function validate(value) {\n      if (!validator.isEmail(value)) {\n        throw new Error({\n          error: 'Invalid Email address'\n        });\n      }\n    }\n  };\n};\n\nvar TimestampSchemaTypeCreator = function TimestampSchemaTypeCreator() {\n  return {\n    type: Date,\n    default: Date.now,\n    index: true,\n    max: Date.now\n  };\n};\n\nmodule.exports = {\n  PasswordSchemaTypeCreator: PasswordSchemaTypeCreator,\n  EmailSchemaTypeCreator: EmailSchemaTypeCreator,\n  TimestampSchemaTypeCreator: TimestampSchemaTypeCreator\n};\n\n//# sourceURL=webpack:///./src/graphql/types/utils/schemaTypeCreators.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var core_js_stable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/stable */ \"core-js/stable\");\n/* harmony import */ var core_js_stable__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_stable__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! regenerator-runtime/runtime */ \"regenerator-runtime/runtime\");\n/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var custom_env__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! custom-env */ \"custom-env\");\n/* harmony import */ var custom_env__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(custom_env__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var apollo_server_express__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! apollo-server-express */ \"apollo-server-express\");\n/* harmony import */ var apollo_server_express__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(apollo_server_express__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./db */ \"./src/db.js\");\n/* harmony import */ var _graphql__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./graphql */ \"./src/graphql/index.js\");\n/* harmony import */ var _graphql__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_graphql__WEBPACK_IMPORTED_MODULE_7__);\n\n\n\n\n\n\n\n\ncustom_env__WEBPACK_IMPORTED_MODULE_2___default.a.env();\ncustom_env__WEBPACK_IMPORTED_MODULE_2___default.a.env(\"development\", 'cfg/environments');\nmongoose__WEBPACK_IMPORTED_MODULE_3___default.a.connect(process.env.MONGODB_HOST, {\n  useNewUrlParser: true,\n  useCreateIndex: true,\n  useUnifiedTopology: true\n});\nvar server = new apollo_server_express__WEBPACK_IMPORTED_MODULE_5__[\"ApolloServer\"]({\n  typeDefs: _graphql__WEBPACK_IMPORTED_MODULE_7__[\"typeDefs\"],\n  resolvers: _graphql__WEBPACK_IMPORTED_MODULE_7__[\"resolvers\"]\n});\nvar app = express__WEBPACK_IMPORTED_MODULE_4___default()();\nserver.applyMiddleware({\n  app: app\n});\napp.listen({\n  port: 4000\n}, function () {\n  return console.log(\"\\uD83D\\uDE80 Server ready at http://localhost:4000\".concat(server.graphqlPath));\n});\n\n//# sourceURL=webpack:///./src/index.js?");

/***/ }),

/***/ "./src/utils/authentication.js":
/*!*************************************!*\
  !*** ./src/utils/authentication.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var jwt = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n\nvar _require = __webpack_require__(/*! ../graphql/types/User/AuthToken */ \"./src/graphql/types/User/AuthToken.js\"),\n    AuthTokenMethods = _require.AuthTokenMethods; // TODO migrate as user method somehow\n\n\nvar authentication = function authentication(token) {\n  return new Promise(function (resolve, reject) {\n    var data = jwt.verify(token, process.env.JWT_KEY);\n    return AuthTokenMethods.findRecord(token).then(function (tokenRecord) {\n      if (!tokenRecord) {\n        return reject(new Error(\"Invalid token\"));\n      }\n\n      return tokenRecord.populate('user').execPopulate();\n    }).then(function (populatedTokenRecord) {\n      if (!populatedTokenRecord) {\n        return reject(new Error('User not found'));\n      }\n\n      return resolve(populatedTokenRecord.user);\n    }).catch(function (error) {\n      return reject(error);\n    });\n  });\n};\n\nmodule.exports = authentication;\n\n//# sourceURL=webpack:///./src/utils/authentication.js?");

/***/ }),

/***/ "./src/utils/index.js":
/*!****************************!*\
  !*** ./src/utils/index.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = {\n  calculatePageCount: function calculatePageCount(documentCount, pageSize) {\n    return Math.floor(documentCount / pageSize) + (documentCount % pageSize > 0 ? 1 : 0);\n  }\n};\n\n//# sourceURL=webpack:///./src/utils/index.js?");

/***/ }),

/***/ "apollo-server-express":
/*!****************************************!*\
  !*** external "apollo-server-express" ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"apollo-server-express\");\n\n//# sourceURL=webpack:///external_%22apollo-server-express%22?");

/***/ }),

/***/ "bcrypt":
/*!*************************!*\
  !*** external "bcrypt" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"bcrypt\");\n\n//# sourceURL=webpack:///external_%22bcrypt%22?");

/***/ }),

/***/ "core-js/stable":
/*!*********************************!*\
  !*** external "core-js/stable" ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"core-js/stable\");\n\n//# sourceURL=webpack:///external_%22core-js/stable%22?");

/***/ }),

/***/ "custom-env":
/*!*****************************!*\
  !*** external "custom-env" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"custom-env\");\n\n//# sourceURL=webpack:///external_%22custom-env%22?");

/***/ }),

/***/ "express":
/*!**************************!*\
  !*** external "express" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"express\");\n\n//# sourceURL=webpack:///external_%22express%22?");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"jsonwebtoken\");\n\n//# sourceURL=webpack:///external_%22jsonwebtoken%22?");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"mongoose\");\n\n//# sourceURL=webpack:///external_%22mongoose%22?");

/***/ }),

/***/ "mongoose-nested-set":
/*!**************************************!*\
  !*** external "mongoose-nested-set" ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"mongoose-nested-set\");\n\n//# sourceURL=webpack:///external_%22mongoose-nested-set%22?");

/***/ }),

/***/ "nodemailer":
/*!*****************************!*\
  !*** external "nodemailer" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"nodemailer\");\n\n//# sourceURL=webpack:///external_%22nodemailer%22?");

/***/ }),

/***/ "regenerator-runtime/runtime":
/*!**********************************************!*\
  !*** external "regenerator-runtime/runtime" ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"regenerator-runtime/runtime\");\n\n//# sourceURL=webpack:///external_%22regenerator-runtime/runtime%22?");

/***/ }),

/***/ "validator":
/*!****************************!*\
  !*** external "validator" ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"validator\");\n\n//# sourceURL=webpack:///external_%22validator%22?");

/***/ })

/******/ });